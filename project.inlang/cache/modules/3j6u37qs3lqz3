var xr=Object.create;var kn=Object.defineProperty;var Ur=Object.getOwnPropertyDescriptor;var wr=Object.getOwnPropertyNames;var Pr=Object.getPrototypeOf,Er=Object.prototype.hasOwnProperty;var Mn=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var Sr=(n,e,r,u)=>{if(e&&typeof e=="object"||typeof e=="function")for(let f of wr(e))!Er.call(n,f)&&f!==r&&kn(n,f,{get:()=>e[f],enumerable:!(u=Ur(e,f))||u.enumerable});return n};var Te=(n,e,r)=>(r=n!=null?xr(Pr(n)):{},Sr(e||!n||!n.__esModule?kn(r,"default",{value:n,enumerable:!0}):r,n));var Ie=Mn(a=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.Type=a.JsonType=a.JavaScriptTypeBuilder=a.JsonTypeBuilder=a.TypeBuilder=a.TypeBuilderError=a.TransformEncodeBuilder=a.TransformDecodeBuilder=a.TemplateLiteralDslParser=a.TemplateLiteralGenerator=a.TemplateLiteralGeneratorError=a.TemplateLiteralFinite=a.TemplateLiteralFiniteError=a.TemplateLiteralParser=a.TemplateLiteralParserError=a.TemplateLiteralResolver=a.TemplateLiteralPattern=a.TemplateLiteralPatternError=a.UnionResolver=a.KeyArrayResolver=a.KeyArrayResolverError=a.KeyResolver=a.ObjectMap=a.Intrinsic=a.IndexedAccessor=a.TypeClone=a.TypeExtends=a.TypeExtendsResult=a.TypeExtendsError=a.ExtendsUndefined=a.TypeGuard=a.TypeGuardUnknownTypeError=a.ValueGuard=a.FormatRegistry=a.TypeBoxError=a.TypeRegistry=a.PatternStringExact=a.PatternNumberExact=a.PatternBooleanExact=a.PatternString=a.PatternNumber=a.PatternBoolean=a.Kind=a.Hint=a.Optional=a.Readonly=a.Transform=void 0;a.Transform=Symbol.for("TypeBox.Transform");a.Readonly=Symbol.for("TypeBox.Readonly");a.Optional=Symbol.for("TypeBox.Optional");a.Hint=Symbol.for("TypeBox.Hint");a.Kind=Symbol.for("TypeBox.Kind");a.PatternBoolean="(true|false)";a.PatternNumber="(0|[1-9][0-9]*)";a.PatternString="(.*)";a.PatternBooleanExact=`^${a.PatternBoolean}$`;a.PatternNumberExact=`^${a.PatternNumber}$`;a.PatternStringExact=`^${a.PatternString}$`;var Rn;(function(n){let e=new Map;function r(){return new Map(e)}n.Entries=r;function u(){return e.clear()}n.Clear=u;function f(d){return e.delete(d)}n.Delete=f;function c(d){return e.has(d)}n.Has=c;function l(d,m){e.set(d,m)}n.Set=l;function p(d){return e.get(d)}n.Get=p})(Rn||(a.TypeRegistry=Rn={}));var J=class extends Error{constructor(e){super(e)}};a.TypeBoxError=J;var Dn;(function(n){let e=new Map;function r(){return new Map(e)}n.Entries=r;function u(){return e.clear()}n.Clear=u;function f(d){return e.delete(d)}n.Delete=f;function c(d){return e.has(d)}n.Has=c;function l(d,m){e.set(d,m)}n.Set=l;function p(d){return e.get(d)}n.Get=p})(Dn||(a.FormatRegistry=Dn={}));var v;(function(n){function e(I){return Array.isArray(I)}n.IsArray=e;function r(I){return typeof I=="bigint"}n.IsBigInt=r;function u(I){return typeof I=="boolean"}n.IsBoolean=u;function f(I){return I instanceof globalThis.Date}n.IsDate=f;function c(I){return I===null}n.IsNull=c;function l(I){return typeof I=="number"}n.IsNumber=l;function p(I){return typeof I=="object"&&I!==null}n.IsObject=p;function d(I){return typeof I=="string"}n.IsString=d;function m(I){return I instanceof globalThis.Uint8Array}n.IsUint8Array=m;function b(I){return I===void 0}n.IsUndefined=b})(v||(a.ValueGuard=v={}));var An=class extends J{};a.TypeGuardUnknownTypeError=An;var s;(function(n){function e(o){try{return new RegExp(o),!0}catch{return!1}}function r(o){if(!v.IsString(o))return!1;for(let C=0;C<o.length;C++){let H=o.charCodeAt(C);if(H>=7&&H<=13||H===27||H===127)return!1}return!0}function u(o){return l(o)||M(o)}function f(o){return v.IsUndefined(o)||v.IsBigInt(o)}function c(o){return v.IsUndefined(o)||v.IsNumber(o)}function l(o){return v.IsUndefined(o)||v.IsBoolean(o)}function p(o){return v.IsUndefined(o)||v.IsString(o)}function d(o){return v.IsUndefined(o)||v.IsString(o)&&r(o)&&e(o)}function m(o){return v.IsUndefined(o)||v.IsString(o)&&r(o)}function b(o){return v.IsUndefined(o)||M(o)}function I(o){return E(o,"Any")&&p(o.$id)}n.TAny=I;function w(o){return E(o,"Array")&&o.type==="array"&&p(o.$id)&&M(o.items)&&c(o.minItems)&&c(o.maxItems)&&l(o.uniqueItems)&&b(o.contains)&&c(o.minContains)&&c(o.maxContains)}n.TArray=w;function y(o){return E(o,"AsyncIterator")&&o.type==="AsyncIterator"&&p(o.$id)&&M(o.items)}n.TAsyncIterator=y;function O(o){return E(o,"BigInt")&&o.type==="bigint"&&p(o.$id)&&f(o.exclusiveMaximum)&&f(o.exclusiveMinimum)&&f(o.maximum)&&f(o.minimum)&&f(o.multipleOf)}n.TBigInt=O;function P(o){return E(o,"Boolean")&&o.type==="boolean"&&p(o.$id)}n.TBoolean=P;function S(o){return E(o,"Constructor")&&o.type==="Constructor"&&p(o.$id)&&v.IsArray(o.parameters)&&o.parameters.every(C=>M(C))&&M(o.returns)}n.TConstructor=S;function R(o){return E(o,"Date")&&o.type==="Date"&&p(o.$id)&&c(o.exclusiveMaximumTimestamp)&&c(o.exclusiveMinimumTimestamp)&&c(o.maximumTimestamp)&&c(o.minimumTimestamp)&&c(o.multipleOfTimestamp)}n.TDate=R;function L(o){return E(o,"Function")&&o.type==="Function"&&p(o.$id)&&v.IsArray(o.parameters)&&o.parameters.every(C=>M(C))&&M(o.returns)}n.TFunction=L;function N(o){return E(o,"Integer")&&o.type==="integer"&&p(o.$id)&&c(o.exclusiveMaximum)&&c(o.exclusiveMinimum)&&c(o.maximum)&&c(o.minimum)&&c(o.multipleOf)}n.TInteger=N;function K(o){return E(o,"Intersect")&&!(v.IsString(o.type)&&o.type!=="object")&&v.IsArray(o.allOf)&&o.allOf.every(C=>M(C)&&!Ee(C))&&p(o.type)&&(l(o.unevaluatedProperties)||b(o.unevaluatedProperties))&&p(o.$id)}n.TIntersect=K;function h(o){return E(o,"Iterator")&&o.type==="Iterator"&&p(o.$id)&&M(o.items)}n.TIterator=h;function E(o,C){return te(o)&&o[a.Kind]===C}n.TKindOf=E;function te(o){return v.IsObject(o)&&a.Kind in o&&v.IsString(o[a.Kind])}n.TKind=te;function X(o){return ee(o)&&v.IsString(o.const)}n.TLiteralString=X;function ke(o){return ee(o)&&v.IsNumber(o.const)}n.TLiteralNumber=ke;function Un(o){return ee(o)&&v.IsBoolean(o.const)}n.TLiteralBoolean=Un;function ee(o){return E(o,"Literal")&&p(o.$id)&&(v.IsBoolean(o.const)||v.IsNumber(o.const)||v.IsString(o.const))}n.TLiteral=ee;function Me(o){return E(o,"Never")&&v.IsObject(o.not)&&Object.getOwnPropertyNames(o.not).length===0}n.TNever=Me;function D(o){return E(o,"Not")&&M(o.not)}n.TNot=D;function Ue(o){return E(o,"Null")&&o.type==="null"&&p(o.$id)}n.TNull=Ue;function we(o){return E(o,"Number")&&o.type==="number"&&p(o.$id)&&c(o.exclusiveMaximum)&&c(o.exclusiveMinimum)&&c(o.maximum)&&c(o.minimum)&&c(o.multipleOf)}n.TNumber=we;function fe(o){return E(o,"Object")&&o.type==="object"&&p(o.$id)&&v.IsObject(o.properties)&&u(o.additionalProperties)&&c(o.minProperties)&&c(o.maxProperties)&&Object.entries(o.properties).every(([C,H])=>r(C)&&M(H))}n.TObject=fe;function Pe(o){return E(o,"Promise")&&o.type==="Promise"&&p(o.$id)&&M(o.item)}n.TPromise=Pe;function De(o){return E(o,"Record")&&o.type==="object"&&p(o.$id)&&u(o.additionalProperties)&&v.IsObject(o.patternProperties)&&(C=>{let H=Object.getOwnPropertyNames(C.patternProperties);return H.length===1&&e(H[0])&&v.IsObject(C.patternProperties)&&M(C.patternProperties[H[0]])})(o)}n.TRecord=De;function wn(o){return v.IsObject(o)&&a.Hint in o&&o[a.Hint]==="Recursive"}n.TRecursive=wn;function qe(o){return E(o,"Ref")&&p(o.$id)&&v.IsString(o.$ref)}n.TRef=qe;function ze(o){return E(o,"String")&&o.type==="string"&&p(o.$id)&&c(o.minLength)&&c(o.maxLength)&&d(o.pattern)&&m(o.format)}n.TString=ze;function _e(o){return E(o,"Symbol")&&o.type==="symbol"&&p(o.$id)}n.TSymbol=_e;function ie(o){return E(o,"TemplateLiteral")&&o.type==="string"&&v.IsString(o.pattern)&&o.pattern[0]==="^"&&o.pattern[o.pattern.length-1]==="$"}n.TTemplateLiteral=ie;function Ve(o){return E(o,"This")&&p(o.$id)&&v.IsString(o.$ref)}n.TThis=Ve;function Ee(o){return v.IsObject(o)&&a.Transform in o}n.TTransform=Ee;function k(o){return E(o,"Tuple")&&o.type==="array"&&p(o.$id)&&v.IsNumber(o.minItems)&&v.IsNumber(o.maxItems)&&o.minItems===o.maxItems&&(v.IsUndefined(o.items)&&v.IsUndefined(o.additionalItems)&&o.minItems===0||v.IsArray(o.items)&&o.items.every(C=>M(C)))}n.TTuple=k;function He(o){return E(o,"Undefined")&&o.type==="undefined"&&p(o.$id)}n.TUndefined=He;function Pn(o){return oe(o)&&o.anyOf.every(C=>X(C)||ke(C))}n.TUnionLiteral=Pn;function oe(o){return E(o,"Union")&&p(o.$id)&&v.IsObject(o)&&v.IsArray(o.anyOf)&&o.anyOf.every(C=>M(C))}n.TUnion=oe;function pe(o){return E(o,"Uint8Array")&&o.type==="Uint8Array"&&p(o.$id)&&c(o.minByteLength)&&c(o.maxByteLength)}n.TUint8Array=pe;function q(o){return E(o,"Unknown")&&p(o.$id)}n.TUnknown=q;function Ze(o){return E(o,"Unsafe")}n.TUnsafe=Ze;function Se(o){return E(o,"Void")&&o.type==="void"&&p(o.$id)}n.TVoid=Se;function En(o){return v.IsObject(o)&&o[a.Readonly]==="Readonly"}n.TReadonly=En;function Sn(o){return v.IsObject(o)&&o[a.Optional]==="Optional"}n.TOptional=Sn;function M(o){return v.IsObject(o)&&(I(o)||w(o)||P(o)||O(o)||y(o)||S(o)||R(o)||L(o)||N(o)||K(o)||h(o)||ee(o)||Me(o)||D(o)||Ue(o)||we(o)||fe(o)||Pe(o)||De(o)||qe(o)||ze(o)||_e(o)||ie(o)||Ve(o)||k(o)||He(o)||oe(o)||pe(o)||q(o)||Ze(o)||Se(o)||te(o)&&Rn.Has(o[a.Kind]))}n.TSchema=M})(s||(a.TypeGuard=s={}));var qn;(function(n){function e(r){return r[a.Kind]==="Intersect"?r.allOf.every(u=>e(u)):r[a.Kind]==="Union"?r.anyOf.some(u=>e(u)):r[a.Kind]==="Undefined"?!0:r[a.Kind]==="Not"?!e(r.not):!1}n.Check=e})(qn||(a.ExtendsUndefined=qn={}));var We=class extends J{};a.TypeExtendsError=We;var T;(function(n){n[n.Union=0]="Union",n[n.True=1]="True",n[n.False=2]="False"})(T||(a.TypeExtendsResult=T={}));var ue;(function(n){function e(t){return t===T.False?t:T.True}function r(t){throw new We(t)}function u(t){return s.TNever(t)||s.TIntersect(t)||s.TUnion(t)||s.TUnknown(t)||s.TAny(t)}function f(t,i){return s.TNever(i)?E(t,i):s.TIntersect(i)?L(t,i):s.TUnion(i)?Ln(t,i):s.TUnknown(i)?Kn(t,i):s.TAny(i)?c(t,i):r("StructuralRight")}function c(t,i){return T.True}function l(t,i){return s.TIntersect(i)?L(t,i):s.TUnion(i)&&i.anyOf.some(A=>s.TAny(A)||s.TUnknown(A))?T.True:s.TUnion(i)?T.Union:s.TUnknown(i)||s.TAny(i)?T.True:T.Union}function p(t,i){return s.TUnknown(t)?T.False:s.TAny(t)?T.Union:s.TNever(t)?T.True:T.False}function d(t,i){return s.TObject(i)&&ie(i)?T.True:u(i)?f(t,i):s.TArray(i)?e(j(t.items,i.items)):T.False}function m(t,i){return u(i)?f(t,i):s.TAsyncIterator(i)?e(j(t.items,i.items)):T.False}function b(t,i){return u(i)?f(t,i):s.TObject(i)?k(t,i):s.TRecord(i)?q(t,i):s.TBigInt(i)?T.True:T.False}function I(t,i){return s.TLiteral(t)&&v.IsBoolean(t.const)||s.TBoolean(t)?T.True:T.False}function w(t,i){return u(i)?f(t,i):s.TObject(i)?k(t,i):s.TRecord(i)?q(t,i):s.TBoolean(i)?T.True:T.False}function y(t,i){return u(i)?f(t,i):s.TObject(i)?k(t,i):s.TConstructor(i)?t.parameters.length>i.parameters.length?T.False:t.parameters.every((A,W)=>e(j(i.parameters[W],A))===T.True)?e(j(t.returns,i.returns)):T.False:T.False}function O(t,i){return u(i)?f(t,i):s.TObject(i)?k(t,i):s.TRecord(i)?q(t,i):s.TDate(i)?T.True:T.False}function P(t,i){return u(i)?f(t,i):s.TObject(i)?k(t,i):s.TFunction(i)?t.parameters.length>i.parameters.length?T.False:t.parameters.every((A,W)=>e(j(i.parameters[W],A))===T.True)?e(j(t.returns,i.returns)):T.False:T.False}function S(t,i){return s.TLiteral(t)&&v.IsNumber(t.const)||s.TNumber(t)||s.TInteger(t)?T.True:T.False}function R(t,i){return s.TInteger(i)||s.TNumber(i)?T.True:u(i)?f(t,i):s.TObject(i)?k(t,i):s.TRecord(i)?q(t,i):T.False}function L(t,i){return i.allOf.every(A=>j(t,A)===T.True)?T.True:T.False}function N(t,i){return t.allOf.some(A=>j(A,i)===T.True)?T.True:T.False}function K(t,i){return u(i)?f(t,i):s.TIterator(i)?e(j(t.items,i.items)):T.False}function h(t,i){return s.TLiteral(i)&&i.const===t.const?T.True:u(i)?f(t,i):s.TObject(i)?k(t,i):s.TRecord(i)?q(t,i):s.TString(i)?Se(t,i):s.TNumber(i)?ee(t,i):s.TInteger(i)?S(t,i):s.TBoolean(i)?I(t,i):T.False}function E(t,i){return T.False}function te(t,i){return T.True}function X(t){let[i,A]=[t,0];for(;s.TNot(i);)i=i.not,A+=1;return A%2===0?i:a.Type.Unknown()}function ke(t,i){return s.TNot(t)?j(X(t),i):s.TNot(i)?j(t,X(i)):r("Invalid fallthrough for Not")}function Un(t,i){return u(i)?f(t,i):s.TObject(i)?k(t,i):s.TRecord(i)?q(t,i):s.TNull(i)?T.True:T.False}function ee(t,i){return s.TLiteralNumber(t)||s.TNumber(t)||s.TInteger(t)?T.True:T.False}function Me(t,i){return u(i)?f(t,i):s.TObject(i)?k(t,i):s.TRecord(i)?q(t,i):s.TInteger(i)||s.TNumber(i)?T.True:T.False}function D(t,i){return Object.getOwnPropertyNames(t.properties).length===i}function Ue(t){return ie(t)}function we(t){return D(t,0)||D(t,1)&&"description"in t.properties&&s.TUnion(t.properties.description)&&t.properties.description.anyOf.length===2&&(s.TString(t.properties.description.anyOf[0])&&s.TUndefined(t.properties.description.anyOf[1])||s.TString(t.properties.description.anyOf[1])&&s.TUndefined(t.properties.description.anyOf[0]))}function fe(t){return D(t,0)}function Pe(t){return D(t,0)}function De(t){return D(t,0)}function wn(t){return D(t,0)}function qe(t){return ie(t)}function ze(t){let i=a.Type.Number();return D(t,0)||D(t,1)&&"length"in t.properties&&e(j(t.properties.length,i))===T.True}function _e(t){return D(t,0)}function ie(t){let i=a.Type.Number();return D(t,0)||D(t,1)&&"length"in t.properties&&e(j(t.properties.length,i))===T.True}function Ve(t){let i=a.Type.Function([a.Type.Any()],a.Type.Any());return D(t,0)||D(t,1)&&"then"in t.properties&&e(j(t.properties.then,i))===T.True}function Ee(t,i){return j(t,i)===T.False||s.TOptional(t)&&!s.TOptional(i)?T.False:T.True}function k(t,i){return s.TUnknown(t)?T.False:s.TAny(t)?T.Union:s.TNever(t)||s.TLiteralString(t)&&Ue(i)||s.TLiteralNumber(t)&&fe(i)||s.TLiteralBoolean(t)&&Pe(i)||s.TSymbol(t)&&we(i)||s.TBigInt(t)&&De(i)||s.TString(t)&&Ue(i)||s.TSymbol(t)&&we(i)||s.TNumber(t)&&fe(i)||s.TInteger(t)&&fe(i)||s.TBoolean(t)&&Pe(i)||s.TUint8Array(t)&&qe(i)||s.TDate(t)&&wn(i)||s.TConstructor(t)&&_e(i)||s.TFunction(t)&&ze(i)?T.True:s.TRecord(t)&&s.TString(oe(t))?i[a.Hint]==="Record"?T.True:T.False:s.TRecord(t)&&s.TNumber(oe(t))?D(i,0)?T.True:T.False:T.False}function He(t,i){return u(i)?f(t,i):s.TRecord(i)?q(t,i):s.TObject(i)?(()=>{for(let A of Object.getOwnPropertyNames(i.properties)){if(!(A in t.properties)&&!s.TOptional(i.properties[A]))return T.False;if(s.TOptional(i.properties[A]))return T.True;if(Ee(t.properties[A],i.properties[A])===T.False)return T.False}return T.True})():T.False}function Pn(t,i){return u(i)?f(t,i):s.TObject(i)&&Ve(i)?T.True:s.TPromise(i)?e(j(t.item,i.item)):T.False}function oe(t){return a.PatternNumberExact in t.patternProperties?a.Type.Number():a.PatternStringExact in t.patternProperties?a.Type.String():r("Unknown record key pattern")}function pe(t){return a.PatternNumberExact in t.patternProperties?t.patternProperties[a.PatternNumberExact]:a.PatternStringExact in t.patternProperties?t.patternProperties[a.PatternStringExact]:r("Unable to get record value schema")}function q(t,i){let[A,W]=[oe(i),pe(i)];return s.TLiteralString(t)&&s.TNumber(A)&&e(j(t,W))===T.True?T.True:s.TUint8Array(t)&&s.TNumber(A)||s.TString(t)&&s.TNumber(A)||s.TArray(t)&&s.TNumber(A)?j(t,W):s.TObject(t)?(()=>{for(let Or of Object.getOwnPropertyNames(t.properties))if(Ee(W,t.properties[Or])===T.False)return T.False;return T.True})():T.False}function Ze(t,i){return u(i)?f(t,i):s.TObject(i)?k(t,i):s.TRecord(i)?j(pe(t),pe(i)):T.False}function Se(t,i){return s.TLiteral(t)&&v.IsString(t.const)||s.TString(t)?T.True:T.False}function En(t,i){return u(i)?f(t,i):s.TObject(i)?k(t,i):s.TRecord(i)?q(t,i):s.TString(i)?T.True:T.False}function Sn(t,i){return u(i)?f(t,i):s.TObject(i)?k(t,i):s.TRecord(i)?q(t,i):s.TSymbol(i)?T.True:T.False}function M(t,i){return s.TTemplateLiteral(t)?j(Y.Resolve(t),i):s.TTemplateLiteral(i)?j(t,Y.Resolve(i)):r("Invalid fallthrough for TemplateLiteral")}function o(t,i){return s.TArray(i)&&t.items!==void 0&&t.items.every(A=>j(A,i.items)===T.True)}function C(t,i){return s.TNever(t)?T.True:s.TUnknown(t)?T.False:s.TAny(t)?T.Union:T.False}function H(t,i){return u(i)?f(t,i):s.TObject(i)&&ie(i)||s.TArray(i)&&o(t,i)?T.True:s.TTuple(i)?v.IsUndefined(t.items)&&!v.IsUndefined(i.items)||!v.IsUndefined(t.items)&&v.IsUndefined(i.items)?T.False:v.IsUndefined(t.items)&&!v.IsUndefined(i.items)||t.items.every((A,W)=>j(A,i.items[W])===T.True)?T.True:T.False:T.False}function dr(t,i){return u(i)?f(t,i):s.TObject(i)?k(t,i):s.TRecord(i)?q(t,i):s.TUint8Array(i)?T.True:T.False}function yr(t,i){return u(i)?f(t,i):s.TObject(i)?k(t,i):s.TRecord(i)?q(t,i):s.TVoid(i)?vr(t,i):s.TUndefined(i)?T.True:T.False}function Ln(t,i){return i.anyOf.some(A=>j(t,A)===T.True)?T.True:T.False}function mr(t,i){return t.anyOf.every(A=>j(A,i)===T.True)?T.True:T.False}function Kn(t,i){return T.True}function gr(t,i){return s.TNever(i)?E(t,i):s.TIntersect(i)?L(t,i):s.TUnion(i)?Ln(t,i):s.TAny(i)?c(t,i):s.TString(i)?Se(t,i):s.TNumber(i)?ee(t,i):s.TInteger(i)?S(t,i):s.TBoolean(i)?I(t,i):s.TArray(i)?p(t,i):s.TTuple(i)?C(t,i):s.TObject(i)?k(t,i):s.TUnknown(i)?T.True:T.False}function vr(t,i){return s.TUndefined(t)||s.TUndefined(t)?T.True:T.False}function Ir(t,i){return s.TIntersect(i)?L(t,i):s.TUnion(i)?Ln(t,i):s.TUnknown(i)?Kn(t,i):s.TAny(i)?c(t,i):s.TObject(i)?k(t,i):s.TVoid(i)?T.True:T.False}function j(t,i){return s.TTemplateLiteral(t)||s.TTemplateLiteral(i)?M(t,i):s.TNot(t)||s.TNot(i)?ke(t,i):s.TAny(t)?l(t,i):s.TArray(t)?d(t,i):s.TBigInt(t)?b(t,i):s.TBoolean(t)?w(t,i):s.TAsyncIterator(t)?m(t,i):s.TConstructor(t)?y(t,i):s.TDate(t)?O(t,i):s.TFunction(t)?P(t,i):s.TInteger(t)?R(t,i):s.TIntersect(t)?N(t,i):s.TIterator(t)?K(t,i):s.TLiteral(t)?h(t,i):s.TNever(t)?te(t,i):s.TNull(t)?Un(t,i):s.TNumber(t)?Me(t,i):s.TObject(t)?He(t,i):s.TRecord(t)?Ze(t,i):s.TString(t)?En(t,i):s.TSymbol(t)?Sn(t,i):s.TTuple(t)?H(t,i):s.TPromise(t)?Pn(t,i):s.TUint8Array(t)?dr(t,i):s.TUndefined(t)?yr(t,i):s.TUnion(t)?mr(t,i):s.TUnknown(t)?gr(t,i):s.TVoid(t)?Ir(t,i):r(`Unknown left type operand '${t[a.Kind]}'`)}function br(t,i){return j(t,i)}n.Extends=br})(ue||(a.TypeExtends=ue={}));var x;(function(n){function e(d){return d.map(m=>c(m))}function r(d){return new Date(d.getTime())}function u(d){return new Uint8Array(d)}function f(d){let m=Object.getOwnPropertyNames(d).reduce((I,w)=>({...I,[w]:c(d[w])}),{}),b=Object.getOwnPropertySymbols(d).reduce((I,w)=>({...I,[w]:c(d[w])}),{});return{...m,...b}}function c(d){return v.IsArray(d)?e(d):v.IsDate(d)?r(d):v.IsUint8Array(d)?u(d):v.IsObject(d)?f(d):d}function l(d){return d.map(m=>p(m))}n.Rest=l;function p(d,m={}){return{...c(d),...m}}n.Type=p})(x||(a.TypeClone=x={}));var Nn;(function(n){function e(y){return y.map(O=>{let{[a.Optional]:P,...S}=x.Type(O);return S})}function r(y){return y.every(O=>s.TOptional(O))}function u(y){return y.some(O=>s.TOptional(O))}function f(y){return r(y.allOf)?a.Type.Optional(a.Type.Intersect(e(y.allOf))):y}function c(y){return u(y.anyOf)?a.Type.Optional(a.Type.Union(e(y.anyOf))):y}function l(y){return y[a.Kind]==="Intersect"?f(y):y[a.Kind]==="Union"?c(y):y}function p(y,O){let P=y.allOf.reduce((S,R)=>{let L=I(R,O);return L[a.Kind]==="Never"?S:[...S,L]},[]);return l(a.Type.Intersect(P))}function d(y,O){let P=y.anyOf.map(S=>I(S,O));return l(a.Type.Union(P))}function m(y,O){let P=y.properties[O];return v.IsUndefined(P)?a.Type.Never():a.Type.Union([P])}function b(y,O){let P=y.items;if(v.IsUndefined(P))return a.Type.Never();let S=P[O];return v.IsUndefined(S)?a.Type.Never():S}function I(y,O){return y[a.Kind]==="Intersect"?p(y,O):y[a.Kind]==="Union"?d(y,O):y[a.Kind]==="Object"?m(y,O):y[a.Kind]==="Tuple"?b(y,O):a.Type.Never()}function w(y,O,P={}){let S=O.map(R=>I(y,R.toString()));return l(a.Type.Union(S,P))}n.Resolve=w})(Nn||(a.IndexedAccessor=Nn={}));var de;(function(n){function e(b){let[I,w]=[b.slice(0,1),b.slice(1)];return`${I.toLowerCase()}${w}`}function r(b){let[I,w]=[b.slice(0,1),b.slice(1)];return`${I.toUpperCase()}${w}`}function u(b){return b.toUpperCase()}function f(b){return b.toLowerCase()}function c(b,I){let w=me.ParseExact(b.pattern);if(!ge.Check(w))return{...b,pattern:l(b.pattern,I)};let P=[...ve.Generate(w)].map(L=>a.Type.Literal(L)),S=p(P,I),R=a.Type.Union(S);return a.Type.TemplateLiteral([R])}function l(b,I){return typeof b=="string"?I==="Uncapitalize"?e(b):I==="Capitalize"?r(b):I==="Uppercase"?u(b):I==="Lowercase"?f(b):b:b.toString()}function p(b,I){if(b.length===0)return[];let[w,...y]=b;return[m(w,I),...p(y,I)]}function d(b,I){return s.TTemplateLiteral(b)?c(b,I):s.TUnion(b)?a.Type.Union(p(b.anyOf,I)):s.TLiteral(b)?a.Type.Literal(l(b.const,I)):b}function m(b,I){return d(b,I)}n.Map=m})(de||(a.Intrinsic=de={}));var ye;(function(n){function e(l,p){return a.Type.Intersect(l.allOf.map(d=>f(d,p)),{...l})}function r(l,p){return a.Type.Union(l.anyOf.map(d=>f(d,p)),{...l})}function u(l,p){return p(l)}function f(l,p){return l[a.Kind]==="Intersect"?e(l,p):l[a.Kind]==="Union"?r(l,p):l[a.Kind]==="Object"?u(l,p):l}function c(l,p,d){return{...f(x.Type(l),p),...d}}n.Map=c})(ye||(a.ObjectMap=ye={}));var Je;(function(n){function e(m){return m[0]==="^"&&m[m.length-1]==="$"?m.slice(1,m.length-1):m}function r(m,b){return m.allOf.reduce((I,w)=>[...I,...l(w,b)],[])}function u(m,b){let I=m.anyOf.map(w=>l(w,b));return[...I.reduce((w,y)=>y.map(O=>I.every(P=>P.includes(O))?w.add(O):w)[0],new Set)]}function f(m,b){return Object.getOwnPropertyNames(m.properties)}function c(m,b){return b.includePatterns?Object.getOwnPropertyNames(m.patternProperties):[]}function l(m,b){return s.TIntersect(m)?r(m,b):s.TUnion(m)?u(m,b):s.TObject(m)?f(m,b):s.TRecord(m)?c(m,b):[]}function p(m,b){return[...new Set(l(m,b))]}n.ResolveKeys=p;function d(m){return`^(${p(m,{includePatterns:!0}).map(w=>`(${e(w)})`).join("|")})$`}n.ResolvePattern=d})(Je||(a.KeyResolver=Je={}));var Qe=class extends J{};a.KeyArrayResolverError=Qe;var Le;(function(n){function e(r){return Array.isArray(r)?r:s.TUnionLiteral(r)?r.anyOf.map(u=>u.const.toString()):s.TLiteral(r)?[r.const]:s.TTemplateLiteral(r)?(()=>{let u=me.ParseExact(r.pattern);if(!ge.Check(u))throw new Qe("Cannot resolve keys from infinite template expression");return[...ve.Generate(u)]})():[]}n.Resolve=e})(Le||(a.KeyArrayResolver=Le={}));var Bn;(function(n){function*e(u){for(let f of u.anyOf)f[a.Kind]==="Union"?yield*e(f):yield f}function r(u){return a.Type.Union([...e(u)],{...u})}n.Resolve=r})(Bn||(a.UnionResolver=Bn={}));var Xe=class extends J{};a.TemplateLiteralPatternError=Xe;var Ye;(function(n){function e(c){throw new Xe(c)}function r(c){return c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function u(c,l){return s.TTemplateLiteral(c)?c.pattern.slice(1,c.pattern.length-1):s.TUnion(c)?`(${c.anyOf.map(p=>u(p,l)).join("|")})`:s.TNumber(c)?`${l}${a.PatternNumber}`:s.TInteger(c)?`${l}${a.PatternNumber}`:s.TBigInt(c)?`${l}${a.PatternNumber}`:s.TString(c)?`${l}${a.PatternString}`:s.TLiteral(c)?`${l}${r(c.const.toString())}`:s.TBoolean(c)?`${l}${a.PatternBoolean}`:e(`Unexpected Kind '${c[a.Kind]}'`)}function f(c){return`^${c.map(l=>u(l,"")).join("")}$`}n.Create=f})(Ye||(a.TemplateLiteralPattern=Ye={}));var Y;(function(n){function e(r){let u=me.ParseExact(r.pattern);if(!ge.Check(u))return a.Type.String();let f=[...ve.Generate(u)].map(c=>a.Type.Literal(c));return a.Type.Union(f)}n.Resolve=e})(Y||(a.TemplateLiteralResolver=Y={}));var Re=class extends J{};a.TemplateLiteralParserError=Re;var me;(function(n){function e(y,O,P){return y[O]===P&&y.charCodeAt(O-1)!==92}function r(y,O){return e(y,O,"(")}function u(y,O){return e(y,O,")")}function f(y,O){return e(y,O,"|")}function c(y){if(!(r(y,0)&&u(y,y.length-1)))return!1;let O=0;for(let P=0;P<y.length;P++)if(r(y,P)&&(O+=1),u(y,P)&&(O-=1),O===0&&P!==y.length-1)return!1;return!0}function l(y){return y.slice(1,y.length-1)}function p(y){let O=0;for(let P=0;P<y.length;P++)if(r(y,P)&&(O+=1),u(y,P)&&(O-=1),f(y,P)&&O===0)return!0;return!1}function d(y){for(let O=0;O<y.length;O++)if(r(y,O))return!0;return!1}function m(y){let[O,P]=[0,0],S=[];for(let L=0;L<y.length;L++)if(r(y,L)&&(O+=1),u(y,L)&&(O-=1),f(y,L)&&O===0){let N=y.slice(P,L);N.length>0&&S.push(I(N)),P=L+1}let R=y.slice(P);return R.length>0&&S.push(I(R)),S.length===0?{type:"const",const:""}:S.length===1?S[0]:{type:"or",expr:S}}function b(y){function O(R,L){if(!r(R,L))throw new Re("TemplateLiteralParser: Index must point to open parens");let N=0;for(let K=L;K<R.length;K++)if(r(R,K)&&(N+=1),u(R,K)&&(N-=1),N===0)return[L,K];throw new Re("TemplateLiteralParser: Unclosed group parens in expression")}function P(R,L){for(let N=L;N<R.length;N++)if(r(R,N))return[L,N];return[L,R.length]}let S=[];for(let R=0;R<y.length;R++)if(r(y,R)){let[L,N]=O(y,R),K=y.slice(L,N+1);S.push(I(K)),R=N}else{let[L,N]=P(y,R),K=y.slice(L,N);K.length>0&&S.push(I(K)),R=N-1}return S.length===0?{type:"const",const:""}:S.length===1?S[0]:{type:"and",expr:S}}function I(y){return c(y)?I(l(y)):p(y)?m(y):d(y)?b(y):{type:"const",const:y}}n.Parse=I;function w(y){return I(y.slice(1,y.length-1))}n.ParseExact=w})(me||(a.TemplateLiteralParser=me={}));var Ge=class extends J{};a.TemplateLiteralFiniteError=Ge;var ge;(function(n){function e(l){throw new Ge(l)}function r(l){return l.type==="or"&&l.expr.length===2&&l.expr[0].type==="const"&&l.expr[0].const==="0"&&l.expr[1].type==="const"&&l.expr[1].const==="[1-9][0-9]*"}function u(l){return l.type==="or"&&l.expr.length===2&&l.expr[0].type==="const"&&l.expr[0].const==="true"&&l.expr[1].type==="const"&&l.expr[1].const==="false"}function f(l){return l.type==="const"&&l.const===".*"}function c(l){return u(l)?!0:r(l)||f(l)?!1:l.type==="and"?l.expr.every(p=>c(p)):l.type==="or"?l.expr.every(p=>c(p)):l.type==="const"?!0:e("Unknown expression type")}n.Check=c})(ge||(a.TemplateLiteralFinite=ge={}));var he=class extends J{};a.TemplateLiteralGeneratorError=he;var ve;(function(n){function*e(l){if(l.length===1)return yield*l[0];for(let p of l[0])for(let d of e(l.slice(1)))yield`${p}${d}`}function*r(l){return yield*e(l.expr.map(p=>[...c(p)]))}function*u(l){for(let p of l.expr)yield*c(p)}function*f(l){return yield l.const}function*c(l){return l.type==="and"?yield*r(l):l.type==="or"?yield*u(l):l.type==="const"?yield*f(l):(()=>{throw new he("Unknown expression")})()}n.Generate=c})(ve||(a.TemplateLiteralGenerator=ve={}));var jn;(function(n){function*e(c){let l=c.trim().replace(/"|'/g,"");return l==="boolean"?yield a.Type.Boolean():l==="number"?yield a.Type.Number():l==="bigint"?yield a.Type.BigInt():l==="string"?yield a.Type.String():yield(()=>{let p=l.split("|").map(d=>a.Type.Literal(d.trim()));return p.length===0?a.Type.Never():p.length===1?p[0]:a.Type.Union(p)})()}function*r(c){if(c[1]!=="{"){let l=a.Type.Literal("$"),p=u(c.slice(1));return yield*[l,...p]}for(let l=2;l<c.length;l++)if(c[l]==="}"){let p=e(c.slice(2,l)),d=u(c.slice(l+1));return yield*[...p,...d]}yield a.Type.Literal(c)}function*u(c){for(let l=0;l<c.length;l++)if(c[l]==="$"){let p=a.Type.Literal(c.slice(0,l)),d=r(c.slice(l));return yield*[p,...d]}yield a.Type.Literal(c)}function f(c){return[...u(c)]}n.Parse=f})(jn||(a.TemplateLiteralDslParser=jn={}));var en=class{constructor(e){this.schema=e}Decode(e){return new nn(this.schema,e)}};a.TransformDecodeBuilder=en;var nn=class{constructor(e,r){this.schema=e,this.decode=r}Encode(e){let r=x.Type(this.schema);return s.TTransform(r)?(()=>{let c={Encode:l=>r[a.Transform].Encode(e(l)),Decode:l=>this.decode(r[a.Transform].Decode(l))};return{...r,[a.Transform]:c}})():(()=>{let u={Decode:this.decode,Encode:e};return{...r,[a.Transform]:u}})()}};a.TransformEncodeBuilder=nn;var Lr=0,rn=class extends J{};a.TypeBuilderError=rn;var tn=class{Create(e){return e}Throw(e){throw new rn(e)}Discard(e,r){return r.reduce((u,f)=>{let{[f]:c,...l}=u;return l},e)}Strict(e){return JSON.parse(JSON.stringify(e))}};a.TypeBuilder=tn;var Ae=class extends tn{ReadonlyOptional(e){return this.Readonly(this.Optional(e))}Readonly(e){return{...x.Type(e),[a.Readonly]:"Readonly"}}Optional(e){return{...x.Type(e),[a.Optional]:"Optional"}}Any(e={}){return this.Create({...e,[a.Kind]:"Any"})}Array(e,r={}){return this.Create({...r,[a.Kind]:"Array",type:"array",items:x.Type(e)})}Boolean(e={}){return this.Create({...e,[a.Kind]:"Boolean",type:"boolean"})}Capitalize(e,r={}){return{...de.Map(x.Type(e),"Capitalize"),...r}}Composite(e,r){let u=a.Type.Intersect(e,{}),c=Je.ResolveKeys(u,{includePatterns:!1}).reduce((l,p)=>({...l,[p]:a.Type.Index(u,[p])}),{});return a.Type.Object(c,r)}Enum(e,r={}){if(v.IsUndefined(e))return this.Throw("Enum undefined or empty");let u=Object.getOwnPropertyNames(e).filter(l=>isNaN(l)).map(l=>e[l]),c=[...new Set(u)].map(l=>a.Type.Literal(l));return this.Union(c,{...r,[a.Hint]:"Enum"})}Extends(e,r,u,f,c={}){switch(ue.Extends(e,r)){case T.Union:return this.Union([x.Type(u,c),x.Type(f,c)]);case T.True:return x.Type(u,c);case T.False:return x.Type(f,c)}}Exclude(e,r,u={}){return s.TTemplateLiteral(e)?this.Exclude(Y.Resolve(e),r,u):s.TTemplateLiteral(r)?this.Exclude(e,Y.Resolve(r),u):s.TUnion(e)?(()=>{let f=e.anyOf.filter(c=>ue.Extends(c,r)===T.False);return f.length===1?x.Type(f[0],u):this.Union(f,u)})():ue.Extends(e,r)!==T.False?this.Never(u):x.Type(e,u)}Extract(e,r,u={}){return s.TTemplateLiteral(e)?this.Extract(Y.Resolve(e),r,u):s.TTemplateLiteral(r)?this.Extract(e,Y.Resolve(r),u):s.TUnion(e)?(()=>{let f=e.anyOf.filter(c=>ue.Extends(c,r)!==T.False);return f.length===1?x.Type(f[0],u):this.Union(f,u)})():ue.Extends(e,r)!==T.False?x.Type(e,u):this.Never(u)}Index(e,r,u={}){return s.TArray(e)&&s.TNumber(r)?x.Type(e.items,u):s.TTuple(e)&&s.TNumber(r)?(()=>{let c=(v.IsUndefined(e.items)?[]:e.items).map(l=>x.Type(l));return this.Union(c,u)})():(()=>{let f=Le.Resolve(r),c=x.Type(e);return Nn.Resolve(c,f,u)})()}Integer(e={}){return this.Create({...e,[a.Kind]:"Integer",type:"integer"})}Intersect(e,r={}){if(e.length===0)return a.Type.Never();if(e.length===1)return x.Type(e[0],r);e.some(l=>s.TTransform(l))&&this.Throw("Cannot intersect transform types");let u=e.every(l=>s.TObject(l)),f=x.Rest(e),c=s.TSchema(r.unevaluatedProperties)?{unevaluatedProperties:x.Type(r.unevaluatedProperties)}:{};return r.unevaluatedProperties===!1||s.TSchema(r.unevaluatedProperties)||u?this.Create({...r,...c,[a.Kind]:"Intersect",type:"object",allOf:f}):this.Create({...r,...c,[a.Kind]:"Intersect",allOf:f})}KeyOf(e,r={}){return s.TRecord(e)?(()=>{let u=Object.getOwnPropertyNames(e.patternProperties)[0];return u===a.PatternNumberExact?this.Number(r):u===a.PatternStringExact?this.String(r):this.Throw("Unable to resolve key type from Record key pattern")})():s.TTuple(e)?(()=>{let f=(v.IsUndefined(e.items)?[]:e.items).map((c,l)=>a.Type.Literal(l.toString()));return this.Union(f,r)})():s.TArray(e)?this.Number(r):(()=>{let u=Je.ResolveKeys(e,{includePatterns:!1});if(u.length===0)return this.Never(r);let f=u.map(c=>this.Literal(c));return this.Union(f,r)})()}Literal(e,r={}){return this.Create({...r,[a.Kind]:"Literal",const:e,type:typeof e})}Lowercase(e,r={}){return{...de.Map(x.Type(e),"Lowercase"),...r}}Never(e={}){return this.Create({...e,[a.Kind]:"Never",not:{}})}Not(e,r){return this.Create({...r,[a.Kind]:"Not",not:x.Type(e)})}Null(e={}){return this.Create({...e,[a.Kind]:"Null",type:"null"})}Number(e={}){return this.Create({...e,[a.Kind]:"Number",type:"number"})}Object(e,r={}){let u=Object.getOwnPropertyNames(e),f=u.filter(d=>s.TOptional(e[d])),c=u.filter(d=>!f.includes(d)),l=s.TSchema(r.additionalProperties)?{additionalProperties:x.Type(r.additionalProperties)}:{},p=u.reduce((d,m)=>({...d,[m]:x.Type(e[m])}),{});return c.length>0?this.Create({...r,...l,[a.Kind]:"Object",type:"object",properties:p,required:c}):this.Create({...r,...l,[a.Kind]:"Object",type:"object",properties:p})}Omit(e,r,u={}){let f=Le.Resolve(r);return ye.Map(this.Discard(x.Type(e),["$id",a.Transform]),c=>{v.IsArray(c.required)&&(c.required=c.required.filter(l=>!f.includes(l)),c.required.length===0&&delete c.required);for(let l of Object.getOwnPropertyNames(c.properties))f.includes(l)&&delete c.properties[l];return this.Create(c)},u)}Partial(e,r={}){return ye.Map(this.Discard(x.Type(e),["$id",a.Transform]),u=>{let f=Object.getOwnPropertyNames(u.properties).reduce((c,l)=>({...c,[l]:this.Optional(u.properties[l])}),{});return this.Object(f,this.Discard(u,["required"]))},r)}Pick(e,r,u={}){let f=Le.Resolve(r);return ye.Map(this.Discard(x.Type(e),["$id",a.Transform]),c=>{v.IsArray(c.required)&&(c.required=c.required.filter(l=>f.includes(l)),c.required.length===0&&delete c.required);for(let l of Object.getOwnPropertyNames(c.properties))f.includes(l)||delete c.properties[l];return this.Create(c)},u)}Record(e,r,u={}){return s.TTemplateLiteral(e)?(()=>{let f=me.ParseExact(e.pattern);return ge.Check(f)?this.Object([...ve.Generate(f)].reduce((c,l)=>({...c,[l]:x.Type(r)}),{}),u):this.Create({...u,[a.Kind]:"Record",type:"object",patternProperties:{[e.pattern]:x.Type(r)}})})():s.TUnion(e)?(()=>{let f=Bn.Resolve(e);if(s.TUnionLiteral(f)){let c=f.anyOf.reduce((l,p)=>({...l,[p.const]:x.Type(r)}),{});return this.Object(c,{...u,[a.Hint]:"Record"})}else this.Throw("Record key of type union contains non-literal types")})():s.TLiteral(e)?v.IsString(e.const)||v.IsNumber(e.const)?this.Object({[e.const]:x.Type(r)},u):this.Throw("Record key of type literal is not of type string or number"):s.TInteger(e)||s.TNumber(e)?this.Create({...u,[a.Kind]:"Record",type:"object",patternProperties:{[a.PatternNumberExact]:x.Type(r)}}):s.TString(e)?(()=>{let f=v.IsUndefined(e.pattern)?a.PatternStringExact:e.pattern;return this.Create({...u,[a.Kind]:"Record",type:"object",patternProperties:{[f]:x.Type(r)}})})():this.Never()}Recursive(e,r={}){v.IsUndefined(r.$id)&&(r.$id=`T${Lr++}`);let u=e({[a.Kind]:"This",$ref:`${r.$id}`});return u.$id=r.$id,this.Create({...r,[a.Hint]:"Recursive",...u})}Ref(e,r={}){return v.IsString(e)?this.Create({...r,[a.Kind]:"Ref",$ref:e}):(v.IsUndefined(e.$id)&&this.Throw("Reference target type must specify an $id"),this.Create({...r,[a.Kind]:"Ref",$ref:e.$id}))}Required(e,r={}){return ye.Map(this.Discard(x.Type(e),["$id",a.Transform]),u=>{let f=Object.getOwnPropertyNames(u.properties).reduce((c,l)=>({...c,[l]:this.Discard(u.properties[l],[a.Optional])}),{});return this.Object(f,u)},r)}Rest(e){return s.TTuple(e)&&!v.IsUndefined(e.items)?x.Rest(e.items):s.TIntersect(e)?x.Rest(e.allOf):s.TUnion(e)?x.Rest(e.anyOf):[]}String(e={}){return this.Create({...e,[a.Kind]:"String",type:"string"})}TemplateLiteral(e,r={}){let u=v.IsString(e)?Ye.Create(jn.Parse(e)):Ye.Create(e);return this.Create({...r,[a.Kind]:"TemplateLiteral",type:"string",pattern:u})}Transform(e){return new en(e)}Tuple(e,r={}){let[u,f,c]=[!1,e.length,e.length],l=x.Rest(e),p=e.length>0?{...r,[a.Kind]:"Tuple",type:"array",items:l,additionalItems:u,minItems:f,maxItems:c}:{...r,[a.Kind]:"Tuple",type:"array",minItems:f,maxItems:c};return this.Create(p)}Uncapitalize(e,r={}){return{...de.Map(x.Type(e),"Uncapitalize"),...r}}Union(e,r={}){return s.TTemplateLiteral(e)?Y.Resolve(e):(()=>{let u=e;if(u.length===0)return this.Never(r);if(u.length===1)return this.Create(x.Type(u[0],r));let f=x.Rest(u);return this.Create({...r,[a.Kind]:"Union",anyOf:f})})()}Unknown(e={}){return this.Create({...e,[a.Kind]:"Unknown"})}Unsafe(e={}){return this.Create({...e,[a.Kind]:e[a.Kind]||"Unsafe"})}Uppercase(e,r={}){return{...de.Map(x.Type(e),"Uppercase"),...r}}};a.JsonTypeBuilder=Ae;var on=class extends Ae{AsyncIterator(e,r={}){return this.Create({...r,[a.Kind]:"AsyncIterator",type:"AsyncIterator",items:x.Type(e)})}Awaited(e,r={}){let u=f=>f.length>0?(()=>{let[c,...l]=f;return[this.Awaited(c),...u(l)]})():f;return s.TIntersect(e)?a.Type.Intersect(u(e.allOf)):s.TUnion(e)?a.Type.Union(u(e.anyOf)):s.TPromise(e)?this.Awaited(e.item):x.Type(e,r)}BigInt(e={}){return this.Create({...e,[a.Kind]:"BigInt",type:"bigint"})}ConstructorParameters(e,r={}){return this.Tuple([...e.parameters],{...r})}Constructor(e,r,u){let[f,c]=[x.Rest(e),x.Type(r)];return this.Create({...u,[a.Kind]:"Constructor",type:"Constructor",parameters:f,returns:c})}Date(e={}){return this.Create({...e,[a.Kind]:"Date",type:"Date"})}Function(e,r,u){let[f,c]=[x.Rest(e),x.Type(r)];return this.Create({...u,[a.Kind]:"Function",type:"Function",parameters:f,returns:c})}InstanceType(e,r={}){return x.Type(e.returns,r)}Iterator(e,r={}){return this.Create({...r,[a.Kind]:"Iterator",type:"Iterator",items:x.Type(e)})}Parameters(e,r={}){return this.Tuple(e.parameters,{...r})}Promise(e,r={}){return this.Create({...r,[a.Kind]:"Promise",type:"Promise",item:x.Type(e)})}RegExp(e,r={}){let u=v.IsString(e)?e:e.source;return this.Create({...r,[a.Kind]:"String",type:"string",pattern:u})}RegEx(e,r={}){return this.RegExp(e,r)}ReturnType(e,r={}){return x.Type(e.returns,r)}Symbol(e){return this.Create({...e,[a.Kind]:"Symbol",type:"symbol"})}Undefined(e={}){return this.Create({...e,[a.Kind]:"Undefined",type:"undefined"})}Uint8Array(e={}){return this.Create({...e,[a.Kind]:"Uint8Array",type:"Uint8Array"})}Void(e={}){return this.Create({...e,[a.Kind]:"Void",type:"void"})}};a.JavaScriptTypeBuilder=on;a.JsonType=new Ae;a.Type=new on});var lr=Mn((ai,cr)=>{"use strict";function g(n){if(!(this instanceof g))return new g(n);this._=n}var U=g.prototype;function Xn(n,e){var r=0;for(r;r<n;r++)e(r)}function Fr(n,e){Xn(e.length,function(r){n(e[r],r,e)})}function se(n,e,r){return Fr(function(u,f,c){e=n(e,u,f,c)},r),e}function ne(n,e){return se(function(r,u,f,c){return r.concat([n(u,f,c)])},[],e)}function $r(n){var e=se(function(r,u,f,c){return r.concat(f===c.length-1?Buffer.from([u,0]).readUInt16BE(0):c.readUInt16BE(f))},[],n);return Buffer.from(ne(function(r){return(r<<1&65535)>>8},e))}function Kr(n,e){var r={v:0,buf:e};return Xn(n,function(){r={v:r.v<<1|kr(r.buf),buf:$r(r.buf)}}),r}function kr(n){return n[0]>>7}function Mr(n){return se(function(e,r){return e+r},0,n)}function Dr(n,e){return se(function(r,u){return r||(n(u)?u:r)},null,e)}function Yn(){return typeof Buffer<"u"}function qr(){if(g._supportsSet!==void 0)return g._supportsSet;var n=typeof Set<"u";return g._supportsSet=n,n}function yn(){if(!Yn())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function Gn(n){yn();var e=Mr(n);if(e%8!==0)throw new Error("The bits ["+n.join(", ")+"] add up to "+e+" which is not an even number of bytes; the total should be divisible by 8");var r=e/8,u=Dr(function(f){return f>48},n);if(u)throw new Error(u+" bit range requested exceeds 48 bit (6 byte) Number max.");return new g(function(f,c){var l=r+c;return l>f.length?_(c,r.toString()+" bytes"):F(l,se(function(p,d){var m=Kr(d,p.buf);return{coll:p.coll.concat(m.v),buf:m.buf}},{coll:[],buf:f.slice(c,l)},n).coll)})}function zr(n){yn();var e={},r=0,u=ne(function(l){if(be(l)){var p=l;if(p.length!==2)throw new Error("["+p.join(", ")+"] should be length 2, got length "+p.length);if(Ce(p[0]),xe(p[1]),Object.prototype.hasOwnProperty.call(e,p[0]))throw new Error("duplicate key in bitSeqObj: "+p[0]);return e[p[0]]=!0,r++,p}else return xe(l),[null,l]},n);if(r<1)throw new Error("bitSeqObj expects at least one named pair, got ["+n.join(", ")+"]");var f=ne(function(l){return l[0]},u),c=ne(function(l){return l[1]},u);return Gn(c).map(function(l){var p=ne(function(d,m){return[d,l[m]]},f);return se(function(d,m){return m[0]!==null&&(d[m[0]]=m[1]),d},{},p)})}function Q(n,e){return new g(function(r,u){return yn(),u+e>r.length?_(u,e+" bytes for "+n):F(u+e,r.slice(u,u+e))})}function _r(n){return Q("buffer",n).map(function(e){return Buffer.from(e)})}function Vr(n,e){return Q("string",e).map(function(r){return r.toString(n)})}function Hr(n){return typeof n=="number"&&Math.floor(n)===n}function mn(n,e){if(!Hr(e)||e<0||e>6)throw new Error(n+" requires integer length in range [0, 6].")}function an(n){return mn("uintBE",n),Q("uintBE("+n+")",n).map(function(e){return e.readUIntBE(0,n)})}function sn(n){return mn("uintLE",n),Q("uintLE("+n+")",n).map(function(e){return e.readUIntLE(0,n)})}function cn(n){return mn("intBE",n),Q("intBE("+n+")",n).map(function(e){return e.readIntBE(0,n)})}function ln(n){return mn("intLE",n),Q("intLE("+n+")",n).map(function(e){return e.readIntLE(0,n)})}function Zr(){return Q("floatBE",4).map(function(n){return n.readFloatBE(0)})}function Wr(){return Q("floatLE",4).map(function(n){return n.readFloatLE(0)})}function Jr(){return Q("doubleBE",8).map(function(n){return n.readDoubleBE(0)})}function Qr(){return Q("doubleLE",8).map(function(n){return n.readDoubleLE(0)})}function Xr(n){return Array.prototype.slice.call(n)}function Fe(n){return n instanceof g}function be(n){return{}.toString.call(n)==="[object Array]"}function je(n){return Yn()&&Buffer.isBuffer(n)}function F(n,e){return{status:!0,index:n,value:e,furthest:-1,expected:[]}}function _(n,e){return be(e)||(e=[e]),{status:!1,index:-1,value:null,furthest:n,expected:e}}function Z(n,e){if(!e||n.furthest>e.furthest)return n;var r=n.furthest===e.furthest?Yr(n.expected,e.expected):e.expected;return{status:n.status,index:n.index,value:n.value,furthest:e.furthest,expected:r}}var pn={};function hn(n,e){if(je(n))return{offset:e,line:-1,column:-1};n in pn||(pn[n]={});for(var r=pn[n],u=0,f=0,c=0,l=e;l>=0;){if(l in r){u=r[l].line,c===0&&(c=r[l].lineStart);break}(n.charAt(l)===`
`||n.charAt(l)==="\r"&&n.charAt(l+1)!==`
`)&&(f++,c===0&&(c=l+1)),l--}var p=u+f,d=e-c;return r[e]={line:p,lineStart:c},{offset:e,line:p+1,column:d+1}}function Yr(n,e){if(qr()&&Array.from){for(var r=new Set(n),u=0;u<e.length;u++)r.add(e[u]);var f=Array.from(r);return f.sort(),f}for(var c={},l=0;l<n.length;l++)c[n[l]]=!0;for(var p=0;p<e.length;p++)c[e[p]]=!0;var d=[];for(var m in c)({}).hasOwnProperty.call(c,m)&&d.push(m);return d.sort(),d}function Oe(n){if(!Fe(n))throw new Error("not a parser: "+n)}function gn(n,e){return typeof n=="string"?n.charAt(e):n[e]}function Gr(n){if(!be(n))throw new Error("not an array: "+n)}function xe(n){if(typeof n!="number")throw new Error("not a number: "+n)}function hr(n){if(!(n instanceof RegExp))throw new Error("not a regexp: "+n);for(var e=nr(n),r=0;r<e.length;r++){var u=e.charAt(r);if(u!=="i"&&u!=="m"&&u!=="u"&&u!=="s")throw new Error('unsupported regexp flag "'+u+'": '+n)}}function ae(n){if(typeof n!="function")throw new Error("not a function: "+n)}function Ce(n){if(typeof n!="string")throw new Error("not a string: "+n)}var et=2,nt=3,re=8,rt=re*5,tt=re*4,Jn="  ";function Tn(n,e){return new Array(e+1).join(n)}function it(n){return n.length===1?`Expected:

`+n[0]:`Expected one of the following: 

`+n.join(", ")}function fn(n,e,r){var u=e-n.length;return u<=0?n:Tn(r,u)+n}function ot(n,e){var r=n.length,u=[],f=0;if(r<=e)return[n.slice()];for(var c=0;c<r;c++)u[f]||u.push([]),u[f].push(n[c]),(c+1)%e===0&&f++;return u}function Qn(n,e,r,u){return{from:n-e>0?n-e:0,to:n+r>u?u:n+r}}function ut(n){return n.from===0&&n.to===1?{from:n.from,to:n.to}:{from:n.from/re,to:Math.floor(n.to/re)}}function at(n,e){var r=e.index,u=r.offset,f=1,c,l,p,d,m;if(u===n.length)return"Got the end of the input";if(je(n)){var b=u-u%re,I=u-b,w=Qn(b,rt,tt+re,n.length),y=n.slice(w.from,w.to),O=ot(y.toJSON().data,re),P=ne(function(N){return ne(function(K){return fn(K.toString(16),2,"0")},N)},O);d=ut(w),l=b/re,c=I*3,I>=4&&(c+=1),f=2,p=ne(function(N){return N.length<=4?N.join(" "):N.slice(0,4).join(" ")+"  "+N.slice(4).join(" ")},P),m=((d.to>0?d.to-1:d.to)*8).toString(16).length,m<2&&(m=2)}else{var S=n.split(/\r\n|[\n\r\u2028\u2029]/);c=r.column-1,l=r.line-1,d=Qn(l,et,nt,S.length),p=S.slice(d.from,d.to),m=d.to.toString().length}var R=l-d.from;je(n)&&(m=((d.to>0?d.to-1:d.to)*8).toString(16).length,m<2&&(m=2));var L=se(function(N,K,h){var E=h===R,te=E?"> ":Jn,X;return je(n)?X=fn(((d.from+h)*8).toString(16),m,"0"):X=fn((d.from+h+1).toString(),m," "),[].concat(N,[te+X+" | "+K],E?[Jn+Tn(" ",m)+" | "+fn("",c," ")+Tn("^",f)]:[])},[],p);return L.join(`
`)}function er(n,e){return[`
`,"-- PARSING FAILED "+Tn("-",50),`

`,at(n,e),`

`,it(e.expected),`
`].join("")}function nr(n){return n.flags!==void 0?n.flags:[n.global?"g":"",n.ignoreCase?"i":"",n.multiline?"m":"",n.unicode?"u":"",n.sticky?"y":""].join("")}function st(n){return RegExp("^(?:"+n.source+")",nr(n))}function vn(){for(var n=[].slice.call(arguments),e=n.length,r=0;r<e;r+=1)Oe(n[r]);return g(function(u,f){for(var c,l=new Array(e),p=0;p<e;p+=1){if(c=Z(n[p]._(u,f),c),!c.status)return c;l[p]=c.value,f=c.index}return Z(F(f,l),c)})}function ct(){for(var n={},e=0,r=Xr(arguments),u=r.length,f=0;f<u;f+=1){var c=r[f];if(!Fe(c)){if(be(c)){var l=c.length===2&&typeof c[0]=="string"&&Fe(c[1]);if(l){var p=c[0];if(Object.prototype.hasOwnProperty.call(n,p))throw new Error("seqObj: duplicate key "+p);n[p]=!0,e++;continue}}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(e===0)throw new Error("seqObj expects at least one named parser, found zero");return g(function(d,m){for(var b,I={},w=0;w<u;w+=1){var y,O;if(be(r[w])?(y=r[w][0],O=r[w][1]):(y=null,O=r[w]),b=Z(O._(d,m),b),!b.status)return b;y&&(I[y]=b.value),m=b.index}return Z(F(m,I),b)})}function ce(){var n=[].slice.call(arguments);if(n.length===0)throw new Error("seqMap needs at least one argument");var e=n.pop();return ae(e),vn.apply(null,n).map(function(r){return e.apply(null,r)})}function lt(n){var e={};for(var r in n)({}).hasOwnProperty.call(n,r)&&function(u){var f=function(){return n[u](e)};e[u]=ir(f)}(r);return e}function In(){var n=[].slice.call(arguments),e=n.length;if(e===0)return bn("zero alternates");for(var r=0;r<e;r+=1)Oe(n[r]);return g(function(u,f){for(var c,l=0;l<n.length;l+=1)if(c=Z(n[l]._(u,f),c),c.status)return c;return c})}function rr(n,e){return Cn(n,e).or(le([]))}function Cn(n,e){Oe(n),Oe(e);var r=e.then(n).many();return ce(n,r,function(u,f){return[u].concat(f)})}U.parse=function(n){if(typeof n!="string"&&!je(n))throw new Error(".parse must be called with a string or Buffer as its argument");var e=this.skip($n)._(n,0),r;return e.status?r={status:!0,value:e.value}:r={status:!1,index:hn(n,e.furthest),expected:e.expected},delete pn[n],r};U.tryParse=function(n){var e=this.parse(n);if(e.status)return e.value;var r=er(n,e),u=new Error(r);throw u.type="ParsimmonError",u.result=e,u};U.assert=function(n,e){return this.chain(function(r){return n(r)?le(r):bn(e)})};U.or=function(n){return In(this,n)};U.trim=function(n){return this.wrap(n,n)};U.wrap=function(n,e){return ce(n,this,e,function(r,u){return u})};U.thru=function(n){return n(this)};U.then=function(n){return Oe(n),vn(this,n).map(function(e){return e[1]})};U.many=function(){var n=this;return g(function(e,r){for(var u=[],f=void 0;;)if(f=Z(n._(e,r),f),f.status){if(r===f.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");r=f.index,u.push(f.value)}else return Z(F(r,u),f)})};U.tieWith=function(n){return Ce(n),this.map(function(e){if(Gr(e),e.length){Ce(e[0]);for(var r=e[0],u=1;u<e.length;u++)Ce(e[u]),r+=n+e[u];return r}else return""})};U.tie=function(){return this.tieWith("")};U.times=function(n,e){var r=this;return arguments.length<2&&(e=n),xe(n),xe(e),g(function(u,f){for(var c=[],l=void 0,p=void 0,d=0;d<n;d+=1)if(l=r._(u,f),p=Z(l,p),l.status)f=l.index,c.push(l.value);else return p;for(;d<e&&(l=r._(u,f),p=Z(l,p),l.status);d+=1)f=l.index,c.push(l.value);return Z(F(f,c),p)})};U.result=function(n){return this.map(function(){return n})};U.atMost=function(n){return this.times(0,n)};U.atLeast=function(n){return ce(this.times(n),this.many(),function(e,r){return e.concat(r)})};U.map=function(n){ae(n);var e=this;return g(function(r,u){var f=e._(r,u);return f.status?Z(F(f.index,n(f.value)),f):f})};U.contramap=function(n){ae(n);var e=this;return g(function(r,u){var f=e.parse(n(r.slice(u)));return f.status?F(u+r.length,f.value):f})};U.promap=function(n,e){return ae(n),ae(e),this.contramap(n).map(e)};U.skip=function(n){return vn(this,n).map(function(e){return e[0]})};U.mark=function(){return ce($e,this,$e,function(n,e,r){return{start:n,value:e,end:r}})};U.node=function(n){return ce($e,this,$e,function(e,r,u){return{name:n,value:r,start:e,end:u}})};U.sepBy=function(n){return rr(this,n)};U.sepBy1=function(n){return Cn(this,n)};U.lookahead=function(n){return this.skip(dn(n))};U.notFollowedBy=function(n){return this.skip(tr(n))};U.desc=function(n){be(n)||(n=[n]);var e=this;return g(function(r,u){var f=e._(r,u);return f.status||(f.expected=n),f})};U.fallback=function(n){return this.or(le(n))};U.ap=function(n){return ce(n,this,function(e,r){return e(r)})};U.chain=function(n){var e=this;return g(function(r,u){var f=e._(r,u);if(!f.status)return f;var c=n(f.value);return Z(c._(r,f.index),f)})};function Ke(n){Ce(n);var e="'"+n+"'";return g(function(r,u){var f=u+n.length,c=r.slice(u,f);return c===n?F(f,c):_(u,e)})}function ft(n){if(yn(),xe(n),n>255)throw new Error("Value specified to byte constructor ("+n+"=0x"+n.toString(16)+") is larger in value than a single byte.");var e=(n>15?"0x":"0x0")+n.toString(16);return g(function(r,u){var f=gn(r,u);return f===n?F(u+1,f):_(u,e)})}function G(n,e){hr(n),arguments.length>=2?xe(e):e=0;var r=st(n),u=""+n;return g(function(f,c){var l=r.exec(f.slice(c));if(l){if(0<=e&&e<=l.length){var p=l[0],d=l[e];return F(c+p.length,d)}var m="valid match group (0 to "+l.length+") in "+u;return _(c,m)}return _(c,u)})}function le(n){return g(function(e,r){return F(r,n)})}function bn(n){return g(function(e,r){return _(r,n)})}function dn(n){if(Fe(n))return g(function(e,r){var u=n._(e,r);return u.index=r,u.value="",u});if(typeof n=="string")return dn(Ke(n));if(n instanceof RegExp)return dn(G(n));throw new Error("not a string, regexp, or parser: "+n)}function tr(n){return Oe(n),g(function(e,r){var u=n._(e,r),f=e.slice(r,u.index);return u.status?_(r,'not "'+f+'"'):F(r,null)})}function On(n){return ae(n),g(function(e,r){var u=gn(e,r);return r<e.length&&n(u)?F(r+1,u):_(r,"a character/byte matching "+n)})}function pt(n){for(var e=n.split(""),r=0;r<e.length;r++)e[r]="'"+e[r]+"'";return On(function(u){return n.indexOf(u)>=0}).desc(e)}function Tt(n){return On(function(e){return n.indexOf(e)<0}).desc("none of '"+n+"'")}function dt(n){return g(n(F,_))}function yt(n,e){return On(function(r){return n<=r&&r<=e}).desc(n+"-"+e)}function mt(n){return ae(n),g(function(e,r){for(var u=r;u<e.length&&n(gn(e,u));)u++;return F(u,e.slice(r,u))})}function ir(n,e){arguments.length<2&&(e=n,n=void 0);var r=g(function(u,f){return r._=e()._,r._(u,f)});return n?r.desc(n):r}function Fn(){return bn("fantasy-land/empty")}U.concat=U.or;U.empty=Fn;U.of=le;U["fantasy-land/ap"]=U.ap;U["fantasy-land/chain"]=U.chain;U["fantasy-land/concat"]=U.concat;U["fantasy-land/empty"]=U.empty;U["fantasy-land/of"]=U.of;U["fantasy-land/map"]=U.map;var $e=g(function(n,e){return F(e,hn(n,e))}),gt=g(function(n,e){return e>=n.length?_(e,"any character/byte"):F(e+1,gn(n,e))}),vt=g(function(n,e){return F(n.length,n.slice(e))}),$n=g(function(n,e){return e<n.length?_(e,"EOF"):F(e,null)}),It=G(/[0-9]/).desc("a digit"),bt=G(/[0-9]*/).desc("optional digits"),Ot=G(/[a-z]/i).desc("a letter"),xt=G(/[a-z]*/i).desc("optional letters"),Ut=G(/\s*/).desc("optional whitespace"),wt=G(/\s+/).desc("whitespace"),or=Ke("\r"),ur=Ke(`
`),ar=Ke(`\r
`),sr=In(ar,ur,or).desc("newline"),Pt=In(sr,$n);g.all=vt;g.alt=In;g.any=gt;g.cr=or;g.createLanguage=lt;g.crlf=ar;g.custom=dt;g.digit=It;g.digits=bt;g.empty=Fn;g.end=Pt;g.eof=$n;g.fail=bn;g.formatError=er;g.index=$e;g.isParser=Fe;g.lazy=ir;g.letter=Ot;g.letters=xt;g.lf=ur;g.lookahead=dn;g.makeFailure=_;g.makeSuccess=F;g.newline=sr;g.noneOf=Tt;g.notFollowedBy=tr;g.of=le;g.oneOf=pt;g.optWhitespace=Ut;g.Parser=g;g.range=yt;g.regex=G;g.regexp=G;g.sepBy=rr;g.sepBy1=Cn;g.seq=vn;g.seqMap=ce;g.seqObj=ct;g.string=Ke;g.succeed=le;g.takeWhile=mt;g.test=On;g.whitespace=wt;g["fantasy-land/empty"]=Fn;g["fantasy-land/of"]=le;g.Binary={bitSeq:Gn,bitSeqObj:zr,byte:ft,buffer:_r,encodedString:Vr,uintBE:an,uint8BE:an(1),uint16BE:an(2),uint32BE:an(4),uintLE:sn,uint8LE:sn(1),uint16LE:sn(2),uint32LE:sn(4),intBE:cn,int8BE:cn(1),int16BE:cn(2),int32BE:cn(4),intLE:ln,int8LE:ln(1),int16LE:ln(2),int32LE:ln(4),floatBE:Zr(),floatLE:Wr(),doubleBE:Jr(),doubleLE:Qr()};cr.exports=g});var B=Te(Ie(),1),Rr=B.Type.Object({messageId:B.Type.String(),position:B.Type.Object({start:B.Type.Object({line:B.Type.Number(),character:B.Type.Number()}),end:B.Type.Object({line:B.Type.Number(),character:B.Type.Number()})})}),At=B.Type.Object({messageReferenceMatchers:B.Type.Array(B.Type.Function([B.Type.Object({documentText:B.Type.String()})],B.Type.Promise(B.Type.Array(Rr)))),extractMessageOptions:B.Type.Array(B.Type.Object({callback:B.Type.Function([B.Type.Object({messageId:B.Type.String(),selection:B.Type.String()})],B.Type.Object({messageId:B.Type.String(),messageReplacement:B.Type.String()}))})),documentSelectors:B.Type.Optional(B.Type.Array(B.Type.Object({language:B.Type.Optional(B.Type.String())})))});var z=Te(Ie(),1);var zn=Te(Ie(),1),_n="^((?<grandfathered>(en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang))|((?<language>([A-Za-z]{2,3}(-(?<extlang>[A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?))(-(?<script>[A-Za-z]{4}))?(-(?<region>[A-Za-z]{2}|[0-9]{3}))?(-(?<variant>[A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*))$",Ne=zn.Type.String({pattern:_n,description:"The language tag must be a valid IETF BCP 47 language tag.",examples:["en","de","en-US","zh-Hans","es-419"]});var Be=Te(Ie(),1),un=n=>Be.Type.Union([n,Be.Type.Intersect([Be.Type.Object({en:n}),Be.Type.Record(Ne,n)])]);var Ar=z.Type.Object({id:z.Type.String({pattern:"^plugin\\.([a-z][a-zA-Z0-9]*)\\.([a-z][a-zA-Z0-9]*(?:[A-Z][a-z0-9]*)*)$",examples:["plugin.namespace.id"]}),displayName:un(z.Type.String()),description:un(z.Type.String()),settingsSchema:z.Type.Optional(z.Type.Object({},{additionalProperties:!0})),loadMessages:z.Type.Optional(z.Type.Any()),saveMessages:z.Type.Optional(z.Type.Any()),detectedLanguageTags:z.Type.Optional(z.Type.Any()),addCustomApi:z.Type.Optional(z.Type.Any())});var $=Te(Ie(),1),Nr=$.Type.Object({type:$.Type.Literal("Text"),value:$.Type.String()}),Br=$.Type.Object({type:$.Type.Literal("VariableReference"),name:$.Type.String()}),Vn=$.Type.Union([Br]),jr=$.Type.Array($.Type.Union([Nr,Vn])),Cr=$.Type.Object({languageTag:Ne,match:$.Type.Array($.Type.String()),pattern:jr}),Qt=$.Type.Object({id:$.Type.String(),alias:$.Type.Record($.Type.String(),$.Type.String()),selectors:$.Type.Array(Vn),variants:$.Type.Array(Cr)});var Zn={en:"m-function-matcher"},Wn={en:"Enables the inlang Visual Studio Code extension (Sherlock) to work with paraglide"};var V=Te(lr(),1),Et=()=>V.default.createLanguage({entry:n=>V.default.alt(n.findReference,V.default.any).many().map(e=>e.flatMap(r=>r)).map(e=>e.filter(r=>typeof r=="object").flat()),findReference:function(n){return V.default.seq(V.default.string("import * as m"),n.findMessage.many())},findMessage:()=>V.default.seqMap(V.default.regex(/.*?(?<![a-zA-Z0-9/])m\./s),V.default.index,V.default.regex(/\w+/),V.default.index,V.default.regex(/\((?:[^()]|\([^()]*\))*\)/).or(V.default.succeed("")),(n,e,r,u,f)=>({messageId:`${r}`,position:{start:{line:e.line,character:e.column},end:{line:u.line,character:u.column+f.length}}}))});function fr(n){try{return Et().entry.tryParse(n)}catch{return[]}}function xn(n){let e=n.trim().replace(/[^a-zA-Z0-9\s_.]/g,"").replace(/[\s.]+/g,"_");return/^[0-9]/.test(e)&&(e="_"+e),e}var pr=()=>({"app.inlang.ideExtension":{messageReferenceMatchers:[async n=>fr(n.documentText)],extractMessageOptions:[{callback:n=>{let e=xn(n.messageId);return{messageId:e,messageReplacement:`{m.${e}()}`}}},{callback:n=>{let e=xn(n.messageId);return{messageId:e,messageReplacement:`m.${e}()`}}}],documentSelectors:[{language:"typescriptreact"},{language:"javascript"},{language:"typescript"},{language:"svelte"},{language:"astro"},{language:"vue"}]}});var St="plugin.inlang.mFunctionMatcher",Tr={id:St,displayName:Zn,description:Wn,addCustomApi:()=>pr()};var Oi=Tr;export{Oi as default};
