(function(){function A(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.push.apply(r,t)}return r}function m(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A(Object(r),!0).forEach((function(t){X(n,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))}))}return n}function X(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}var v=typeof window<"u"?window:void 0,s=typeof globalThis<"u"?globalThis:v,R=s?.navigator;s?.document,s?.location,s?.fetch,s!=null&&s.XMLHttpRequest&&"withCredentials"in new s.XMLHttpRequest&&s.XMLHttpRequest,s?.AbortController,R?.userAgent;var $,E=v??{};(function(n){n.GZipJS="gzip-js",n.Base64="base64"})($||($={}));var B=["fatal","error","warning","log","info","debug"],C=Array.isArray,k=Object.prototype.toString,F=C||function(n){return k.call(n)==="[object Array]"},J=n=>typeof n=="function",Y=n=>n===Object(n)&&!F(n),O=n=>n===void 0,M=n=>k.call(n)=="[object String]",Z=n=>M(n)&&n.trim().length===0,K=n=>n===null;function U(n){return!O(Event)&&H(n,Event)}function H(n,e){try{return n instanceof e}catch{return!1}}function N(n){return K(n)||!Y(n)&&!J(n)}function b(n,e){return Object.prototype.toString.call(n)==="[object ".concat(e,"]")}function T(n){return b(n,"DOMError")}var G=/\(error: (.*)\)/,I=50,x="?";function S(n,e,r,t){var o={platform:"web:javascript",filename:n,function:e==="<anonymous>"?x:e,in_app:!0};return O(r)||(o.lineno=r),O(t)||(o.colno=t),o}var Q=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,V=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ee=/\((\S*)(?::(\d+))(?::(\d+))\)/,ne=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,re=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,te=(function(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];var t=e.sort(((o,i)=>o[0]-i[0])).map((o=>o[1]));return function(o){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=[],l=o.split(`
`),c=i;c<l.length;c++){var u=l[c];if(!(u.length>1024)){var h=G.test(u)?u.replace(G,"$1"):u;if(!h.match(/\S*Error: /)){for(var _ of t){var y=_(h);if(y){a.push(y);break}}if(a.length>=I)break}}}return(function(p){if(!p.length)return[];var f=Array.from(p);return f.reverse(),f.slice(0,I).map((d=>m(m({},d),{},{filename:d.filename||oe(f).filename,function:d.function||x})))})(a)}})([30,n=>{var e=Q.exec(n);if(e){var[,r,t,o]=e;return S(r,x,+t,+o)}var i=V.exec(n);if(i){if(i[2]&&i[2].indexOf("eval")===0){var a=ee.exec(i[2]);a&&(i[2]=a[1],i[3]=a[2],i[4]=a[3])}var[l,c]=z(i[1]||x,i[2]);return S(c,l,i[3]?+i[3]:void 0,i[4]?+i[4]:void 0)}}],[50,n=>{var e=ne.exec(n);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){var r=re.exec(e[3]);r&&(e[1]=e[1]||"eval",e[3]=r[1],e[4]=r[2],e[5]="")}var t=e[3],o=e[1]||x;return[o,t]=z(o,t),S(t,o,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]);function oe(n){return n[n.length-1]||{}}var z=(n,e)=>{var r=n.indexOf("safari-extension")!==-1,t=n.indexOf("safari-web-extension")!==-1;return r||t?[n.indexOf("@")!==-1?n.split("@")[0]:x,r?"safari-extension:".concat(e):"safari-web-extension:".concat(e)]:[n,e]},ie=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function P(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=n.stacktrace||n.stack||"",t=(function(i){return i&&ae.test(i.message)?1:0})(n);try{var o=te(r,t);return o.slice(0,o.length-e)}catch{}return[]}var ae=/Minified React error #\d+;/i;function D(n,e){var r,t,o=P(n),i=(r=e?.handled)===null||r===void 0||r,a=(t=e?.synthetic)!==null&&t!==void 0&&t;return{$exception_list:[{type:e!=null&&e.overrideExceptionType?e.overrideExceptionType:n.name,value:e!=null&&e.overrideExceptionMessage?e.overrideExceptionMessage:(function(l){var c=l.message;return c.error&&typeof c.error.message=="string"?c.error.message:c})(n),stacktrace:{frames:o,type:"raw"},mechanism:{handled:i,synthetic:a}}],$exception_level:"error"}}function w(n,e){var r,t,o,i=(r=e?.handled)===null||r===void 0||r,a=(t=e?.synthetic)===null||t===void 0||t,l={type:e!=null&&e.overrideExceptionType?e.overrideExceptionType:(o=e?.defaultExceptionType)!==null&&o!==void 0?o:"Error",value:e!=null&&e.overrideExceptionMessage?e.overrideExceptionMessage:n||e?.defaultExceptionMessage,mechanism:{handled:i,synthetic:a}};if(e!=null&&e.syntheticException){var c=P(e.syntheticException,1);c.length&&(l.stacktrace={frames:c,type:"raw"})}return{$exception_list:[l],$exception_level:"error"}}function ce(n,e){var r,t,o,i=(r=e?.handled)===null||r===void 0||r,a=(t=e?.synthetic)===null||t===void 0||t,l=e!=null&&e.overrideExceptionType?e.overrideExceptionType:U(n)?n.constructor.name:"Error",c=e!=null&&e.overrideExceptionMessage?e.overrideExceptionMessage:"Non-Error ".concat("exception"," captured with keys: ",(function(_){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:40,p=Object.keys(_);if(p.sort(),!p.length)return"[object has no keys]";for(var f=p.length;f>0;f--){var d=p.slice(0,f).join(", ");if(!(d.length>y))return f===p.length||d.length<=y?d:"".concat(d.slice(0,y),"...")}return""})(n)),u={type:l,value:c,mechanism:{handled:i,synthetic:a}};if(e!=null&&e.syntheticException){var h=P(e?.syntheticException,1);h.length&&(u.stacktrace={frames:h,type:"raw"})}return{$exception_list:[u],$exception_level:(o=n.level,M(o)&&!Z(o)&&B.indexOf(o)>=0?n.level:"error")}}function j(n,e){var[r,t,o,i,a]=n,l={$exception_list:[]},c=a||r;if(T(c)||(function(g){return b(g,"DOMException")})(c)){var u=c;if((function(g){return"stack"in g})(c))l=D(c,e);else{var h=u.name||(T(u)?"DOMError":"DOMException"),_=u.message?"".concat(h,": ").concat(u.message):h,y=T(u)?"DOMError":"DOMException";l=w(_,m(m({},e),{},{overrideExceptionType:y,defaultExceptionMessage:_}))}return"code"in u&&(l.$exception_DOMException_code="".concat(u.code)),l}if((function(g){return b(g,"ErrorEvent")})(c)&&c.error)return D(c.error,e);if((function(g){switch(Object.prototype.toString.call(g)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object DOMError]":return!0;default:return H(g,Error)}})(c))return D(c,e);if((function(g){return b(g,"Object")})(c)||U(c))return ce(c,e);if(O(a)&&M(r)){var p="Error",f=r,d=r.match(ie);return d&&(p=d[1],f=d[2]),w(f,m(m({},e),{},{overrideExceptionType:p,defaultExceptionMessage:f}))}return w(c,e)}function le(n){var[e]=n,r=(function(t){if(N(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t})(e);return N(r)?w("Non-Error promise rejection captured with value: ".concat(String(r)),{handled:!1,synthetic:!1,overrideExceptionType:"UnhandledRejection"}):j([r],{handled:!1,overrideExceptionType:"UnhandledRejection",defaultExceptionMessage:String(r)})}var L=n=>{var e={_log:function(r){if(v&&E.POSTHOG_DEBUG&&!O(v.console)&&v.console){for(var t=("__rrweb_original__"in v.console[r])?v.console[r].__rrweb_original__:v.console[r],o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];t(n,...i)}},info:function(){for(var r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];e._log("log",...t)},warn:function(){for(var r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];e._log("warn",...t)},error:function(){for(var r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];e._log("error",...t)},critical:function(){for(var r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];console.error(n,...t)},uninitializedWarning:r=>{e.error("You must initialize PostHog before calling ".concat(r))},createLogger:r=>L("".concat(n," ").concat(r))};return e},q=(0,L("[PostHog.js]").createLogger)("[ExceptionAutocapture]"),W={wrapOnError:n=>{var e=v;e||q.info("window not available, cannot wrap onerror");var r=e.onerror;return e.onerror=function(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var l=j(i);return n(l),(t=r?.(...i))!==null&&t!==void 0&&t},e.onerror.__POSTHOG_INSTRUMENTED__=!0,()=>{var t;(t=e.onerror)===null||t===void 0||delete t.__POSTHOG_INSTRUMENTED__,e.onerror=r}},wrapUnhandledRejection:n=>{var e=v;e||q.info("window not available, cannot wrap onUnhandledRejection");var r=e.onunhandledrejection;return e.onunhandledrejection=function(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var l=le(i);return n(l),(t=r?.apply(e,i))!==null&&t!==void 0&&t},e.onunhandledrejection.__POSTHOG_INSTRUMENTED__=!0,()=>{var t;(t=e.onunhandledrejection)===null||t===void 0||delete t.__POSTHOG_INSTRUMENTED__,e.onunhandledrejection=r}}};E.__PosthogExtensions__=E.__PosthogExtensions__||{},E.__PosthogExtensions__.errorWrappingFunctions=W,E.__PosthogExtensions__.parseErrorAsProperties=j,E.posthogErrorWrappingFunctions=W,E.parseErrorAsProperties=j})();
