{"version":3,"file":"index.BtflZ5yQ.js","sources":["../../src/components/CodeTabs/index.tsx"],"sourcesContent":["import { cx } from \"class-variance-authority\";\nimport { slugify } from \"../../shared/pathHelpers.ts\";\nimport { useEffect, useRef, useState } from \"react\";\nimport \"./codeTabs.css\";\n\ntype CodeTabsProps = {\n  tabs: string[] | Array<{ label: string; value: string }>;\n  onTabChange: (tab: string, index: number) => void;\n  children: React.ReactNode;\n};\n\nexport function CodeTabs({\n  tabs,\n  onTabChange,\n  children,\n}: CodeTabsProps) {\n  const codeTabsRef = useRef<HTMLDivElement | null>(null);\n\n  // useEffect(() => {\n  //   const codeTabsEl$ = codeTabsRef.current;\n  //   if (!codeTabsEl$ || !codeTabsEl$.children) {\n  //     console.error(\"No children found in codeTabsEl$\");\n  //     return;\n  //   }\n  //   // get all the `.expressive-code` children - do not hold a reference to the children\n  //   // log clicks\n  //   const handleClick = (e: MouseEvent) => {\n  //     const target = e.target as HTMLElement;\n  //     if (target.classList.contains(\"title\")) {\n  //       console.log(\"Clicked on tab\", target.textContent);\n  //     }\n  //   }\n  //   codeTabsEl$.addEventListener(\"click\", handleClick);\n\n  //   return () => codeTabsEl$.removeEventListener(\"click\", handleClick);\n    \n  // }, [codeTabsRef]);\n  useEffect(() => {\n    if (codeTabsRef.current) updateActiveTab(0);\n  }, []);\n  const [activeTab, setActiveTab] = useState<number>(0);\n\n  const handleTabClick = (_event: unknown, tabValue: string, tabIndex: number) => {\n    setActiveTab(tabIndex);\n    // event.preventDefault();\n    onTabChange?.(tabValue, tabIndex);\n    updateActiveTab(tabIndex);\n  };\n\n  function updateActiveTab(tabIndex: number) {\n    const codeTabsEl$ = codeTabsRef.current;\n\n    if (!codeTabsEl$ || !codeTabsEl$.children) {\n      console.error(\"No children found in codeTabsEl$\");\n      return;\n    }\n    // get all the `.expressive-code` children\n    const codeBlocks = codeTabsEl$.querySelectorAll(\".expressive-code\");\n\n    // hide all the `.expressive-code` children\n    codeBlocks.forEach((codeBlock, idx) => {\n      if (tabIndex === idx) {\n        codeBlock.classList.remove(\"hidden\", \"slideOutRight\", \"fadeInFast\");\n        codeBlock.classList.add(\"active\", \"fadeInFast\");\n      } else {\n        codeBlock.classList.remove(\"active\", \"fadeInFast\", \"slideOutRight\");\n        codeBlock.classList.add(\"hidden\", \"slideOutRight\");\n      }\n    });\n    // return codeBlocks;\n  }\n\n  return (\n    <section className=\"codeTabs expressive-code\" ref={codeTabsRef}>\n      <figure className=\"tabBar hasTitle notContent\">\n        <figcaption className=\"header\">\n          {tabs.map((tab, idx) => {\n            const tabLabel = typeof tab === \"object\" ? tab.label : tab;\n            const tabValue = typeof tab === \"object\" ? tab.value : tab;\n            return (\n              <span\n                key={tabValue}\n                aria-roledescription=\"tab\"\n                onClick={(e) => handleTabClick(e, tabValue, idx)}\n                className={cx(\"title\", `tab-${slugify(tabValue)}`, {\n                  active: activeTab === idx,\n                })}\n              >\n                {tabLabel}\n              </span>\n            );\n          })}\n        </figcaption>\n      </figure>\n      {children}\n    </section>\n  );\n}\n"],"names":["CodeTabs","tabs","onTabChange","children","codeTabsRef","useRef","useEffect","updateActiveTab","activeTab","setActiveTab","useState","handleTabClick","_event","tabValue","tabIndex","codeTabsEl$","codeBlock","idx","jsxs","jsx","tab","tabLabel","e","cx","slugify"],"mappings":"kXAWO,SAASA,EAAS,CACvB,KAAAC,EACA,YAAAC,EACA,SAAAC,CACF,EAAkB,CAChB,MAAMC,EAAcC,EAAAA,OAA8B,IAAI,EAqBtDC,EAAAA,UAAU,IAAM,CACVF,EAAY,SAASG,EAAgB,CAAC,CAC5C,EAAG,CAAA,CAAE,EACL,KAAM,CAACC,EAAWC,CAAY,EAAIC,EAAAA,SAAiB,CAAC,EAE9CC,EAAiB,CAACC,EAAiBC,EAAkBC,IAAqB,CAC9EL,EAAaK,CAAQ,EAErBZ,IAAcW,EAAUC,CAAQ,EAChCP,EAAgBO,CAAQ,CAC1B,EAEA,SAASP,EAAgBO,EAAkB,CACzC,MAAMC,EAAcX,EAAY,QAEhC,GAAI,CAACW,GAAe,CAACA,EAAY,SAAU,CACzC,QAAQ,MAAM,kCAAkC,EAChD,MACF,CAEmBA,EAAY,iBAAiB,kBAAkB,EAGvD,QAAQ,CAACC,EAAWC,IAAQ,CACjCH,IAAaG,GACfD,EAAU,UAAU,OAAO,SAAU,gBAAiB,YAAY,EAClEA,EAAU,UAAU,IAAI,SAAU,YAAY,IAE9CA,EAAU,UAAU,OAAO,SAAU,aAAc,eAAe,EAClEA,EAAU,UAAU,IAAI,SAAU,eAAe,EAErD,CAAC,CAEH,CAEA,OACEE,EAAAA,KAAC,UAAA,CAAQ,UAAU,2BAA2B,IAAKd,EACjD,SAAA,CAAAe,EAAAA,IAAC,SAAA,CAAO,UAAU,6BAChB,SAAAA,EAAAA,IAAC,aAAA,CAAW,UAAU,SACnB,SAAAlB,EAAK,IAAI,CAACmB,EAAKH,IAAQ,CACtB,MAAMI,EAAW,OAAOD,GAAQ,SAAWA,EAAI,MAAQA,EACjDP,EAAW,OAAOO,GAAQ,SAAWA,EAAI,MAAQA,EACvD,OACED,EAAAA,IAAC,OAAA,CAEC,uBAAqB,MACrB,QAAUG,GAAMX,EAAeW,EAAGT,EAAUI,CAAG,EAC/C,UAAWM,EAAG,QAAS,OAAOC,EAAQX,CAAQ,CAAC,GAAI,CACjD,OAAQL,IAAcS,CAAA,CACvB,EAEA,SAAAI,CAAA,EAPIR,CAAA,CAUX,CAAC,EACH,EACF,EACCV,CAAA,EACH,CAEJ"}