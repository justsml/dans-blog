(function(){function v(t,r,s,o,e,c,u){try{var a=t[c](u),i=a.value}catch(l){return void s(l)}a.done?r(i):Promise.resolve(i).then(o,e)}var I=Array.isArray,O=Object.prototype.toString,S=I||function(t){return O.call(t)==="[object Array]"};function _(t,r,s){try{if(!(r in t))return()=>{};var o=t[r],e=s(o);return typeof e=="function"&&(e.prototype=e.prototype||{},Object.defineProperties(e,{__posthog_wrapped__:{enumerable:!1,value:!0}})),t[r]=e,()=>{t[r]=o}}catch{return()=>{}}}var d=typeof window<"u"?window:void 0,n=typeof globalThis<"u"?globalThis:d,g=n?.navigator;n?.document,n?.location,n?.fetch,n!=null&&n.XMLHttpRequest&&"withCredentials"in new n.XMLHttpRequest&&n.XMLHttpRequest,n?.AbortController,g?.userAgent;var h=d??{},w=(t,r,s,o)=>{var e;try{e=new URL(o.url).hostname}catch{return}if(!S(t)||t.includes(e)){if(s){var{sessionId:c,windowId:u}=s.checkAndGetSessionAndWindowId(!0);o.headers.set("X-POSTHOG-SESSION-ID",c),o.headers.set("X-POSTHOG-WINDOW-ID",u)}r!=="$posthog_cookieless"&&o.headers.set("X-POSTHOG-DISTINCT-ID",r)}};h.__PosthogExtensions__=h.__PosthogExtensions__||{};var y={_patchFetch:(t,r,s)=>_(d,"fetch",(o=>(function(){var e,c=(e=function*(u,a){var i=new Request(u,a);return w(t,r,s,i),o(i)},function(){var u=this,a=arguments;return new Promise((function(i,l){var H=e.apply(u,a);function p(f){v(H,i,l,p,P,"next",f)}function P(f){v(H,i,l,p,P,"throw",f)}p(void 0)}))});return function(u,a){return c.apply(this,arguments)}})())),_patchXHR:(t,r,s)=>_(d.XMLHttpRequest.prototype,"open",(o=>function(e,c,u,a,i){u===void 0&&(u=!0);var l=new Request(c);return w(t,r,s,l),o.call(this,e,l.url,u,a,i)}))};h.__PosthogExtensions__.tracingHeadersPatchFns=y,h.postHogTracingHeadersPatchFns=y})();
