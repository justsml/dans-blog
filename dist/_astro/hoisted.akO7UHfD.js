import{Q as p}from"./QuestionStore.Dp9S3Fqa.js";import"./hoisted.kaAzt0H9.js";import"./hoisted.Bq-Z3vFB.js";import"./_commonjsHelpers.Cpj98o6Y.js";let r=null,u=0;window.__updateCounts=()=>{const e=document.querySelectorAll("main .challenge");if(!(e.length>0))return!1;const t=document.querySelectorAll(".score"),c=t[0],a=document.querySelector(".score-wrapper"),n=document.querySelector(".score label"),o=document.querySelectorAll("main .challenge.correct"),l=Array.from(document.querySelectorAll("[data-answer-count")).reduce((i,d)=>{const m=parseInt(d.getAttribute("data-answer-count")||"0",10);return i+m},0);return t.length>=2&&console.error("Multiple score elements found"),n?(o.length>0&&t[0].classList.add("active"),e.length===o.length?(c.classList.add("all-correct"),n.innerHTML="All correct!",a?.classList.toggle("pulse"),c?.classList.add("success")):n.innerHTML=`${o.length} / ${e.length} ${l>0?`<sup>(${l} tries)</sup>`:""}`,!0):(console.error("Expected score label, not found"),!1)};function f(){const e=p(window.location.pathname);return e||null}document.addEventListener("astro:page-load",function(){const e=document.querySelector(".quiz-ui");if(e){const s=f(),t=document.querySelector("button.reset-quiz");t&&t.addEventListener("click",()=>{console.log("Resetting quiz state for",location.pathname),s?.reset(),location.reload()}),r=setInterval(()=>{if(u++,window.__updateCounts(),u>12){clearInterval(r);return}},100),e.addEventListener("mousedown",()=>{clearInterval(r)}),e.addEventListener("click",()=>{clearInterval(r),window.__updateCounts()})}});
