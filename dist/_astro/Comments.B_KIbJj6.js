import{j as c}from"./jsx-runtime.vlAWDSmm.js";import{r as m}from"./index.BwNzhqGF.js";import"./_commonjsHelpers.Cpj98o6Y.js";const d=({path:a})=>{const r=m.useRef(null);return m.useEffect(()=>{const o=window?.document;console.log("Comments count:",o?.querySelectorAll(".utterances-frame"));const e=document.createElement("script");e.src="https://utteranc.es/client.js",e.async=!0,e.setAttribute("repo","justsml/dans-blog"),e.setAttribute("issue-term","pathname"),e.setAttribute("label","ðŸ’¬ comment"),e.setAttribute("theme","preferred-color-scheme"),e.setAttribute("crossorigin","anonymous"),e.onload=()=>{const t=document.querySelector("#post-comments .loading-msg");t&&t.parentNode&&t.parentNode.removeChild(t)};const n=r.current;return n&&n.appendChild(e),()=>{const t=r.current;try{t&&t.contains(e)&&t.removeChild(e),o?.querySelectorAll(".utterances-frame").length&&o?.querySelectorAll(".utterances-frame").forEach(s=>s.remove())}catch(s){console.error(s)}}},[a]),c.jsx("div",{ref:r,id:"post-comments",style:{position:"relative"},className:"post-comments utterances-frame relative",children:c.jsx("span",{className:"loading-msg",children:"Loading comments..."})})};export{d as GitHubIssueComments};
