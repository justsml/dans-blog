(function(){var F,U,C=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},P=function(e){if(document.readyState==="loading")return"loading";var n=C();if(n){if(e<n.domInteractive)return"loading";if(n.domContentLoadedEventStart===0||e<n.domContentLoadedEventStart)return"dom-interactive";if(n.domComplete===0||e<n.domComplete)return"dom-content-loaded"}return"complete"},le=function(e){var n=e.nodeName;return e.nodeType===1?n.toLowerCase():n.toUpperCase().replace(/^#/,"")},D=function(e,n){var i="";try{for(;e&&e.nodeType!==9;){var r=e,t=r.id?"#"+r.id:le(r)+(r.classList&&r.classList.value&&r.classList.value.trim()&&r.classList.value.trim().length?"."+r.classList.value.trim().replace(/\s+/g,"."):"");if(i.length+t.length>(n||100)-1)return i||t;if(i=i?t+">"+i:t,r.id)break;e=r.parentNode}}catch{}return i},G=-1,J=function(){return G},L=function(e){addEventListener("pageshow",(function(n){n.persisted&&(G=n.timeStamp,e(n))}),!0)},R=function(){var e=C();return e&&e.activationStart||0},p=function(e,n){var i=C(),r="navigate";return J()>=0?r="back-forward-cache":i&&(document.prerendering||R()>0?r="prerender":document.wasDiscarded?r="restore":i.type&&(r=i.type.replace(/_/g,"-"))),{name:e,value:n===void 0?-1:n,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},y=function(e,n,i){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(t){Promise.resolve().then((function(){n(t.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},i||{})),r}}catch{}},v=function(e,n,i,r){var t,s;return function(a){n.value>=0&&(a||r)&&((s=n.value-(t||0))||t===void 0)&&(t=n.value,n.delta=s,n.rating=(function(o,u){return o>u[1]?"poor":o>u[0]?"needs-improvement":"good"})(n.value,i),e(n))}},B=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},I=function(e){document.addEventListener("visibilitychange",(function(){document.visibilityState==="hidden"&&e()}))},H=function(e){var n=!1;return function(){n||(e(),n=!0)}},T=-1,K=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},x=function(e){document.visibilityState==="hidden"&&T>-1&&(T=e.type==="visibilitychange"?e.timeStamp:0,de())},Q=function(){addEventListener("visibilitychange",x,!0),addEventListener("prerenderingchange",x,!0)},de=function(){removeEventListener("visibilitychange",x,!0),removeEventListener("prerenderingchange",x,!0)},Y=function(){return T<0&&(T=K(),Q(),L((function(){setTimeout((function(){T=K(),Q()}),0)}))),{get firstHiddenTime(){return T}}},q=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},Z=[1800,3e3],$=function(e,n){n=n||{},q((function(){var i,r=Y(),t=p("FCP"),s=y("paint",(function(a){a.forEach((function(o){o.name==="first-contentful-paint"&&(s.disconnect(),o.startTime<r.firstHiddenTime&&(t.value=Math.max(o.startTime-R(),0),t.entries.push(o),i(!0)))}))}));s&&(i=v(e,t,Z,n.reportAllChanges),L((function(a){t=p("FCP"),i=v(e,t,Z,n.reportAllChanges),B((function(){t.value=performance.now()-a.timeStamp,i(!0)}))})))}))},ee=[.1,.25],te=0,O=1/0,k=0,me=function(e){e.forEach((function(n){n.interactionId&&(O=Math.min(O,n.interactionId),k=Math.max(k,n.interactionId),te=k?(k-O)/7+1:0)}))},ne=function(){return F?te:performance.interactionCount||0},pe=function(){"interactionCount"in performance||F||(F=y("event",me,{type:"event",buffered:!0,durationThreshold:0}))},m=[],M=new Map,re=0,ie=[],ve=function(e){if(ie.forEach((function(t){return t(e)})),e.interactionId||e.entryType==="first-input"){var n=m[m.length-1],i=M.get(e.interactionId);if(i||m.length<10||e.duration>n.latency){if(i)e.duration>i.latency?(i.entries=[e],i.latency=e.duration):e.duration===i.latency&&e.startTime===i.entries[0].startTime&&i.entries.push(e);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};M.set(r.id,r),m.push(r)}m.sort((function(t,s){return s.latency-t.latency})),m.length>10&&m.splice(10).forEach((function(t){return M.delete(t.id)}))}}},j=function(e){var n=self.requestIdleCallback||self.setTimeout,i=-1;return e=H(e),document.visibilityState==="hidden"?e():(i=n(e),I(e)),i},ae=[200,500],ge=function(e,n){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(n=n||{},q((function(){var i;pe();var r,t=p("INP"),s=function(o){j((function(){o.forEach(ve);var u=(function(){var c=Math.min(m.length-1,Math.floor((ne()-re)/50));return m[c]})();u&&u.latency!==t.value&&(t.value=u.latency,t.entries=u.entries,r())}))},a=y("event",s,{durationThreshold:(i=n.durationThreshold)!==null&&i!==void 0?i:40});r=v(e,t,ae,n.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),I((function(){s(a.takeRecords()),r(!0)})),L((function(){re=ne(),m.length=0,M.clear(),t=p("INP"),r=v(e,t,ae,n.reportAllChanges)})))})))},E=[],g=[],N=0,W=new WeakMap,S=new Map,V=-1,he=function(e){E=E.concat(e),oe()},oe=function(){V<0&&(V=j(ye))},ye=function(){S.size>10&&S.forEach((function(a,o){M.has(o)||S.delete(o)}));var e=m.map((function(a){return W.get(a.entries[0])})),n=g.length-50;g=g.filter((function(a,o){return o>=n||e.includes(a)}));for(var i=new Set,r=0;r<g.length;r++){var t=g[r];se(t.startTime,t.processingEnd).forEach((function(a){i.add(a)}))}var s=E.length-1-50;E=E.filter((function(a,o){return a.startTime>N&&o>s||i.has(a)})),V=-1};ie.push((function(e){e.interactionId&&e.target&&!S.has(e.interactionId)&&S.set(e.interactionId,e.target)}),(function(e){var n,i=e.startTime+e.duration;N=Math.max(N,e.processingEnd);for(var r=g.length-1;r>=0;r--){var t=g[r];if(Math.abs(i-t.renderTime)<=8){(n=t).startTime=Math.min(e.startTime,n.startTime),n.processingStart=Math.min(e.processingStart,n.processingStart),n.processingEnd=Math.max(e.processingEnd,n.processingEnd),n.entries.push(e);break}}n||(n={startTime:e.startTime,processingStart:e.processingStart,processingEnd:e.processingEnd,renderTime:i,entries:[e]},g.push(n)),(e.interactionId||e.entryType==="first-input")&&W.set(e,n),oe()}));var se=function(e,n){for(var i,r=[],t=0;i=E[t];t++)if(!(i.startTime+i.duration<e)){if(i.startTime>n)break;r.push(i)}return r},ue=[2500,4e3],X={},z=typeof window<"u"?window:void 0,d=typeof globalThis<"u"?globalThis:z,ce=d?.navigator;d?.document,d?.location,d?.fetch,d!=null&&d.XMLHttpRequest&&"withCredentials"in new d.XMLHttpRequest&&d.XMLHttpRequest,d?.AbortController,ce?.userAgent;var A=z??{},fe={onLCP:function(e,n){(function(i,r){r=r||{},q((function(){var t,s=Y(),a=p("LCP"),o=function(f){r.reportAllChanges||(f=f.slice(-1)),f.forEach((function(l){l.startTime<s.firstHiddenTime&&(a.value=Math.max(l.startTime-R(),0),a.entries=[l],t())}))},u=y("largest-contentful-paint",o);if(u){t=v(i,a,ue,r.reportAllChanges);var c=H((function(){X[a.id]||(o(u.takeRecords()),u.disconnect(),X[a.id]=!0,t(!0))}));["keydown","click"].forEach((function(f){addEventListener(f,(function(){return j(c)}),{once:!0,capture:!0})})),I(c),L((function(f){a=p("LCP"),t=v(i,a,ue,r.reportAllChanges),B((function(){a.value=performance.now()-f.timeStamp,X[a.id]=!0,t(!0)}))}))}}))})((function(i){var r=(function(t){var s={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:t.value};if(t.entries.length){var a=C();if(a){var o=a.activationStart||0,u=t.entries[t.entries.length-1],c=u.url&&performance.getEntriesByType("resource").filter((function(_){return _.name===u.url}))[0],f=Math.max(0,a.responseStart-o),l=Math.max(f,c?(c.requestStart||c.startTime)-o:0),h=Math.max(l,c?c.responseEnd-o:0),w=Math.max(h,u.startTime-o);s={element:D(u.element),timeToFirstByte:f,resourceLoadDelay:l-f,resourceLoadDuration:h-l,elementRenderDelay:w-h,navigationEntry:a,lcpEntry:u},u.url&&(s.url=u.url),c&&(s.lcpResourceEntry=c)}}return Object.assign(t,{attribution:s})})(i);e(r)}),n)},onCLS:function(e,n){(function(i,r){r=r||{},$(H((function(){var t,s=p("CLS",0),a=0,o=[],u=function(f){f.forEach((function(l){if(!l.hadRecentInput){var h=o[0],w=o[o.length-1];a&&l.startTime-w.startTime<1e3&&l.startTime-h.startTime<5e3?(a+=l.value,o.push(l)):(a=l.value,o=[l])}})),a>s.value&&(s.value=a,s.entries=o,t())},c=y("layout-shift",u);c&&(t=v(i,s,ee,r.reportAllChanges),I((function(){u(c.takeRecords()),t(!0)})),L((function(){a=0,s=p("CLS",0),t=v(i,s,ee,r.reportAllChanges),B((function(){return t()}))})),setTimeout(t,0))})))})((function(i){var r=(function(t){var s,a={};if(t.entries.length){var o=t.entries.reduce((function(c,f){return c&&c.value>f.value?c:f}));if(o&&o.sources&&o.sources.length){var u=(s=o.sources).find((function(c){return c.node&&c.node.nodeType===1}))||s[0];u&&(a={largestShiftTarget:D(u.node),largestShiftTime:o.startTime,largestShiftValue:o.value,largestShiftSource:u,largestShiftEntry:o,loadState:P(o.startTime)})}}return Object.assign(t,{attribution:a})})(i);e(r)}),n)},onFCP:function(e,n){$((function(i){var r=(function(t){var s={timeToFirstByte:0,firstByteToFCP:t.value,loadState:P(J())};if(t.entries.length){var a=C(),o=t.entries[t.entries.length-1];if(a){var u=a.activationStart||0,c=Math.max(0,a.responseStart-u);s={timeToFirstByte:c,firstByteToFCP:t.value-c,loadState:P(t.entries[0].startTime),navigationEntry:a,fcpEntry:o}}}return Object.assign(t,{attribution:s})})(i);e(r)}),n)},onINP:function(e,n){U||(U=y("long-animation-frame",he)),ge((function(i){var r=(function(t){var s=t.entries[0],a=W.get(s),o=s.processingStart,u=a.processingEnd,c=a.entries.sort((function(b,Ee){return b.processingStart-Ee.processingStart})),f=se(s.startTime,u),l=t.entries.find((function(b){return b.target})),h=l&&l.target||S.get(s.interactionId),w=[s.startTime+s.duration,u].concat(f.map((function(b){return b.startTime+b.duration}))),_=Math.max.apply(Math,w),Te={interactionTarget:D(h),interactionTargetElement:h,interactionType:s.name.startsWith("key")?"keyboard":"pointer",interactionTime:s.startTime,nextPaintTime:_,processedEventEntries:c,longAnimationFrameEntries:f,inputDelay:o-s.startTime,processingDuration:u-o,presentationDelay:Math.max(_-u,0),loadState:P(s.startTime)};return Object.assign(t,{attribution:Te})})(i);e(r)}),n)}};A.__PosthogExtensions__=A.__PosthogExtensions__||{},A.__PosthogExtensions__.postHogWebVitalsCallbacks=fe,A.postHogWebVitalsCallbacks=fe})();
