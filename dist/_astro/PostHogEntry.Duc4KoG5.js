import{_ as o}from"./preload-helper.BlTxHScW.js";import{r as c}from"./index.CfUZTxxr.js";import"./_commonjsHelpers.Cpj98o6Y.js";import"./index.yBjzXJbu.js";let r=!1,n=null;const a=async()=>{if(r)return n;try{const{default:t}=await o(async()=>{const{default:s}=await import("./module.no-external.B567KWye.js");return{default:s}},[]);return await Promise.all([o(()=>import("./exception-autocapture.CyhMFmtN.js"),[]),o(()=>import("./tracing-headers.BVLymrwD.js"),[]),o(()=>import("./web-vitals.Zy6NbM3N.js"),[])]),setTimeout(()=>{o(()=>import("./recorder.B3WwJpem.js"),[]).catch(console.warn)},2e3),r=!0,n=t,t}catch(t){return console.warn("Analytics loading failed:",t),null}},_=()=>{const[t,s]=c.useState(r);return c.useEffect(()=>{if(!r){const e=()=>{a().then(()=>{s(!0)}),document.removeEventListener("scroll",e),document.removeEventListener("click",e),document.removeEventListener("keydown",e)};document.addEventListener("scroll",e,{once:!0,passive:!0}),document.addEventListener("click",e,{once:!0}),document.addEventListener("keydown",e,{once:!0});const i=setTimeout(()=>{r||e()},3e3);return()=>{clearTimeout(i),document.removeEventListener("scroll",e),document.removeEventListener("click",e),document.removeEventListener("keydown",e)}}},[]),{posthog:n,isLoaded:t}},v=n;export{v as posthog,_ as usePostHog};
