import{Q as q}from"./QuestionStore.DoXL2Hea.js";import"./hoisted.D5R9S2q8.js";import"./hoisted.CxITEpva.js";import"./_commonjsHelpers.Cpj98o6Y.js";import"./router.B-sij-_X.js";let u=null,p=0;window.__updateCounts=()=>{const t=document.querySelectorAll(".quiz-ui"),e=document.querySelectorAll("main .challenge");if(!(t.length>0)||e.length<=0)return!1;const r=document.querySelectorAll(".score"),o=r[0],c=document.querySelector(".score-wrapper"),i=document.querySelector(".score label"),s=document.querySelectorAll("main .challenge.correct"),d=document.querySelector(".congrats-message"),g=m(),l=g?g.sumOfTries():w(),a=e.length===s.length&&l===e.length;if(o?.parentNode?.nodeName!=="BODY"&&document.body.appendChild(o),a&&(o?.classList.add("perfect"),t[0].classList.add("perfect")),r.length>=2&&console.error("Multiple score elements found"),!i)return console.error("Expected score label, not found"),!1;if(s.length>0&&r[0].classList.add("active"),e.length===s.length){if(o.classList.add("all-correct"),d){const f=a?"WOW! Perfect!":"All correct!",h=a?"h2":"h3";d.innerHTML=`<${h}>${f} ${s.length} / ${e.length} ${l>0?`<sup>(${l} tries)</sup>`:""}</${h}>`}c?.classList.toggle("pulse"),o?.classList.add("success")}else i.innerHTML=`${s.length} / ${e.length} ${l>0?`<sup>(${l} tries)</sup>`:""}`;return!0};function m(){const t=q(window.location.pathname);return t||null}document.addEventListener("astro:page-load",function(){const t=document.querySelector(".quiz-ui");if(t){const e=m(),n=document.querySelector("button.reset-quiz");n&&n.addEventListener("click",()=>{e?.reset(),location.reload()}),u=setInterval(()=>{if(p++,window.__updateCounts(),p>12){clearInterval(u);return}},100),t.addEventListener("mousedown",()=>{clearInterval(u)},{once:!0}),t.addEventListener("click",()=>{clearInterval(u),window.__updateCounts()})}});function w(){return[...document.querySelectorAll("[data-answer-count")].reduce((t,e)=>{const n=parseInt(e.getAttribute("data-answer-count")||"0",10);return t+n},0)}window.__superHackFix_patchOptionsListWithActualHeight=function(e=null){e??=[...document.querySelectorAll(".quiz-options")],console.log("patchRealHeight",e.length),e.forEach(function(n){try{let r=n&&Array.from(n.querySelectorAll("a")).map(function(c){return c.getBoundingClientRect().height});const o=r&&r.reduce((c,i)=>c+i,0);n.parentElement&&(n.parentElement.style.height=o+"px")}catch(r){console.error("Error patching options list",r)}})};
