webpackJsonp([0xf4b461a72d73],{1374:function(s,a){s.exports={data:{post:{id:"/Users/danlevy/code/oss/dans-blog/content/posts/2018-11-15--you-may-not-need-axios/index.md absPath of file >>> MarkdownRemark",html:'<h1 id="you-may-not-need-axios"><a href="#you-may-not-need-axios" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>You may not need Axios</h1>\n<blockquote>\n<p>This <strong>is not an attack</strong> on <a href="https://www.npmjs.com/package/axios">Axios</a>. <br />\nRather, it‚Äôs <strong>advocacy for the <code class="language-text">fetch</code> API which has become quite capable.</strong> ü¶Ñ</p>\n</blockquote>\n<p>\n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 645px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 58.12500000000001%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMBBP/EABYBAQEBAAAAAAAAAAAAAAAAAAMAAf/aAAwDAQACEAMQAAAB5tgcKrLf/8QAGxAAAgEFAAAAAAAAAAAAAAAAAAECERMiMTL/2gAIAQEAAQUCUUYsojouOE9r/8QAFhEAAwAAAAAAAAAAAAAAAAAAAQIQ/9oACAEDAQE/AQs//8QAFhEAAwAAAAAAAAAAAAAAAAAAAQIQ/9oACAECAQE/AS0//8QAGRABAAMBAQAAAAAAAAAAAAAAAAEhMRFR/9oACAEBAAY/AsUxauIn2H//xAAYEAEBAQEBAAAAAAAAAAAAAAABEQAhUf/aAAgBAQABPyGKrMDIGmfRqkGzLkeOmnXTpv/aAAwDAQACAAMAAAAQ5y//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREh/9oACAEDAQE/EEPSH//EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAgEBPxBBy2//xAAbEAEBAQACAwAAAAAAAAAAAAABEQAxQSFhcf/aAAgBAQABPxAzEHahnbwqTgwHSyCrLzrzAO54+867UJhEH1a7/9k=\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image lazyload"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"\n        alt="credit: william-bout-103533-unsplash.jpg"\n        title=""\n        data-src="/static/william-bout-103533-unsplash-c03daa32b912a296304cf89aae1c938e-ef7b7.jpg"\n        data-srcset="/static/william-bout-103533-unsplash-c03daa32b912a296304cf89aae1c938e-c3db7.jpg 161w,\n/static/william-bout-103533-unsplash-c03daa32b912a296304cf89aae1c938e-e67ed.jpg 323w,\n/static/william-bout-103533-unsplash-c03daa32b912a296304cf89aae1c938e-ef7b7.jpg 645w,\n/static/william-bout-103533-unsplash-c03daa32b912a296304cf89aae1c938e-04582.jpg 968w,\n/static/william-bout-103533-unsplash-c03daa32b912a296304cf89aae1c938e-a5fcc.jpg 1280w"\n        sizes="(max-width: 645px) 100vw, 645px"\n      />\n    </span>\n  </span>\n  </p>\n<h2 id="overview"><a href="#overview" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Overview</h2>\n<p>I‚Äôll be the first to say: I was an early hater of the <code class="language-text">fetch</code> API. My first attempt turned into an entirely wasted weekend. I didn‚Äôt know I was using broken examples. #fail <br />\nThe good news is that a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch">large proportion of the documentation</a> and corresponding examples have been improved, and I‚Äôve included several <a href="#fetch-examples">code snippets</a> with <a href="#feature-comparison">common uses cases below</a>.</p>\n<p>I‚Äôve collected up-to-date code examples for the patterns which ‚Äúunlocked‚Äù <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch"><code class="language-text">fetch</code></a> for me.</p>\n<p>Check out the head-to-head <a href="#feature-comparison">Feature Comparison</a>; then browse my curated <a href="#fetch-examples">Fetch Examples</a> I‚Äôve accumulated over the past year.</p>\n<h1 id="feature-comparison"><a href="#feature-comparison" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Feature Comparison</h1>\n<table>\n<thead>\n<tr>\n<th></th>\n<th align="center">fetch</th>\n<th align="center">axios</th>\n<th align="center">request</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Intercept request and response</td>\n<td align="center">‚úÖ</td>\n<td align="center">‚úÖ</td>\n<td align="center">‚úÖ</td>\n</tr>\n<tr>\n<td>Transform request and response data</td>\n<td align="center">‚úÖ</td>\n<td align="center">‚úÖ</td>\n<td align="center">‚úÖ</td>\n</tr>\n<tr>\n<td>Cancel requests</td>\n<td align="center">‚úÖ</td>\n<td align="center">‚úÖ</td>\n<td align="center">‚ùå</td>\n</tr>\n<tr>\n<td>Automatic transforms for JSON data</td>\n<td align="center">‚úÖ</td>\n<td align="center">‚úÖ</td>\n<td align="center">‚úÖ</td>\n</tr>\n<tr>\n<td>Client side support for protecting against XSRF</td>\n<td align="center">‚úÖ</td>\n<td align="center">‚úÖ</td>\n<td align="center">‚úÖ</td>\n</tr>\n<tr>\n<td>Progress</td>\n<td align="center">‚úÖ</td>\n<td align="center">‚úÖ</td>\n<td align="center">‚úÖ</td>\n</tr>\n<tr>\n<td>Streaming</td>\n<td align="center">‚úÖ</td>\n<td align="center">‚úÖ</td>\n<td align="center">‚úÖ</td>\n</tr>\n</tbody>\n</table>\n<p><br /><br /></p>\n<p>When starting this article (late 2018) I assumed I‚Äôd end with a table of mixed check boxes. Surely there are special <em>Use Cases</em> which justified <a href="https://www.npmjs.com/package/axios"><code class="language-text">axios</code></a>, <a href="https://www.npmjs.com/package/request"><code class="language-text">request</code></a>, <a href="https://www.npmjs.com/package/r2"><code class="language-text">r2</code></a>, <a href="https://www.npmjs.com/package/superagent"><code class="language-text">superagent</code></a>, <a href="https://www.npmjs.com/package/got"><code class="language-text">got</code></a>, etc. Well, as it turns out, <strong>I overestimated the need for 3rd party http libraries.</strong></p>\n<p>Despite using <code class="language-text">fetch</code> for 2 years (including for non-trivial tasks: file uploads &#x26; error/retry support) I still had misconceptions of <code class="language-text">fetch</code>‚Äôs abilities and limits. (Specifically regarding <a href="#download-progress-helper">progress updates</a> or canceling requests.)</p>\n<br />\n<hr>\n<h1 id="fetch-examples"><a href="#fetch-examples" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Fetch Examples</h1>\n<p>Click the links below to go directly to the code snippet.</p>\n<ol>\n<li><a href="#get-json-from-a-url">GET: JSON from a URL</a></li>\n<li><a href="#custom-headers">Custom headers</a></li>\n<li><a href="#http-error-handling">Error handling w/ HTTP status codes</a></li>\n<li><a href="#cors-example">CORS example</a></li>\n<li><a href="#posting-json">Posting JSON</a></li>\n<li><a href="#posting-an-html-form">Posting an HTML <code class="language-text">&lt;form&gt;</code></a></li>\n<li><a href="#form-encoded-data">Form encoded data</a></li>\n<li><a href="#uploading-a-file">Uploading a File</a></li>\n<li><a href="#uploading-multiple-files">Uploading Multiple Files</a></li>\n<li><a href="#timeouts">Timeouts</a></li>\n<li><a href="#download-progress-helper">Progress Percent - Download</a></li>\n<li>TODO: <em>Recursive: Retry on Failure</em></li>\n<li>TODO: <em>Recursive: Automated results paging</em></li>\n</ol>\n<blockquote>\n<p>Is your Use Case not listed? <a href="/contact/">Let me know ‚úâÔ∏è</a></p>\n</blockquote>\n<br />\n<h3 id="get-json-from-a-url"><a href="#get-json-from-a-url" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Get JSON from a URL</h3>\n<p><div id="gist93070369" class="gist">\n    <div class="gist-file">\n      <div class="gist-data">\n        <div class="js-gist-file-update-container js-task-list-container file-box">\n  <div id="file-basic-example-js" class="file my-2">\n    \n  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript  ">\n      \n<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip>\n      <tr>\n        <td id="file-basic-example-js-L1" class="blob-num js-line-number" data-line-number="1"></td>\n        <td id="file-basic-example-js-LC1" class="blob-code blob-code-inner js-file-line"><span class=pl-en>fetch</span><span class=pl-kos>(</span><span class=pl-s>&#39;https://api.github.com/orgs/nodejs&#39;</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-basic-example-js-L2" class="blob-num js-line-number" data-line-number="2"></td>\n        <td id="file-basic-example-js-LC2" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>response</span> <span class=pl-c1>=&gt;</span> <span class=pl-s1>response</span><span class=pl-kos>.</span><span class=pl-en>json</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-basic-example-js-L3" class="blob-num js-line-number" data-line-number="3"></td>\n        <td id="file-basic-example-js-LC3" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>data</span> <span class=pl-c1>=&gt;</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-basic-example-js-L4" class="blob-num js-line-number" data-line-number="4"></td>\n        <td id="file-basic-example-js-LC4" class="blob-code blob-code-inner js-file-line">  <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>log</span><span class=pl-kos>(</span><span class=pl-s1>data</span><span class=pl-kos>)</span> <span class=pl-c>// Prints result from `response.json()` in getRequest</span></td>\n      </tr>\n      <tr>\n        <td id="file-basic-example-js-L5" class="blob-num js-line-number" data-line-number="5"></td>\n        <td id="file-basic-example-js-LC5" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-basic-example-js-L6" class="blob-num js-line-number" data-line-number="6"></td>\n        <td id="file-basic-example-js-LC6" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>.</span><span class=pl-en>catch</span><span class=pl-kos>(</span><span class=pl-s1>error</span> <span class=pl-c1>=&gt;</span> <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>error</span><span class=pl-kos>(</span><span class=pl-s1>error</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class="gist-meta">\n        <a href="https://gist.github.com/justsml/de941bd61cc86e30beedbb8a3a646f81/raw/8b31f56e500cfb6760c170b9836c224b52f25ba9/basic-example.js" style="float:right">view raw</a>\n        <a href="https://gist.github.com/justsml/de941bd61cc86e30beedbb8a3a646f81#file-basic-example-js">basic-example.js</a>\n        hosted with &#10084; by <a href="https://github.com">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<h3 id="custom-headers"><a href="#custom-headers" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom headers</h3>\n<p><div id="gist93070376" class="gist">\n    <div class="gist-file">\n      <div class="gist-data">\n        <div class="js-gist-file-update-container js-task-list-container file-box">\n  <div id="file-custom-headers-js" class="file my-2">\n    \n  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript  ">\n      \n<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip>\n      <tr>\n        <td id="file-custom-headers-js-L1" class="blob-num js-line-number" data-line-number="1"></td>\n        <td id="file-custom-headers-js-LC1" class="blob-code blob-code-inner js-file-line"><span class=pl-en>fetch</span><span class=pl-kos>(</span><span class=pl-s>&#39;https://api.github.com/orgs/nodejs&#39;</span><span class=pl-kos>,</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-custom-headers-js-L2" class="blob-num js-line-number" data-line-number="2"></td>\n        <td id="file-custom-headers-js-LC2" class="blob-code blob-code-inner js-file-line">  <span class=pl-c1>headers</span>: <span class=pl-k>new</span> <span class=pl-v>Headers</span><span class=pl-kos>(</span><span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-custom-headers-js-L3" class="blob-num js-line-number" data-line-number="3"></td>\n        <td id="file-custom-headers-js-LC3" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&#39;User-agent&#39;</span>: <span class=pl-s>&#39;Mozilla/4.0 Custom User Agent&#39;</span></td>\n      </tr>\n      <tr>\n        <td id="file-custom-headers-js-L4" class="blob-num js-line-number" data-line-number="4"></td>\n        <td id="file-custom-headers-js-LC4" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>}</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-custom-headers-js-L5" class="blob-num js-line-number" data-line-number="5"></td>\n        <td id="file-custom-headers-js-LC5" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-custom-headers-js-L6" class="blob-num js-line-number" data-line-number="6"></td>\n        <td id="file-custom-headers-js-LC6" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>response</span> <span class=pl-c1>=&gt;</span> <span class=pl-s1>response</span><span class=pl-kos>.</span><span class=pl-en>json</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-custom-headers-js-L7" class="blob-num js-line-number" data-line-number="7"></td>\n        <td id="file-custom-headers-js-LC7" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>data</span> <span class=pl-c1>=&gt;</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-custom-headers-js-L8" class="blob-num js-line-number" data-line-number="8"></td>\n        <td id="file-custom-headers-js-LC8" class="blob-code blob-code-inner js-file-line">  <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>log</span><span class=pl-kos>(</span><span class=pl-s1>data</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-custom-headers-js-L9" class="blob-num js-line-number" data-line-number="9"></td>\n        <td id="file-custom-headers-js-LC9" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-custom-headers-js-L10" class="blob-num js-line-number" data-line-number="10"></td>\n        <td id="file-custom-headers-js-LC10" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>.</span><span class=pl-en>catch</span><span class=pl-kos>(</span><span class=pl-s1>error</span> <span class=pl-c1>=&gt;</span> <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>error</span><span class=pl-kos>(</span><span class=pl-s1>error</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class="gist-meta">\n        <a href="https://gist.github.com/justsml/fca7cd72ec1ebc07d994eac13a665ddf/raw/ac3e5db5c997a755950799dc1838f700fbc3d516/custom-headers.js" style="float:right">view raw</a>\n        <a href="https://gist.github.com/justsml/fca7cd72ec1ebc07d994eac13a665ddf#file-custom-headers-js">custom-headers.js</a>\n        hosted with &#10084; by <a href="https://github.com">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<h3 id="http-error-handling"><a href="#http-error-handling" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>HTTP Error Handling</h3>\n<p><div id="gist93621870" class="gist">\n    <div class="gist-file">\n      <div class="gist-data">\n        <div class="js-gist-file-update-container js-task-list-container file-box">\n  <div id="file-fetch-custom-error-js" class="file my-2">\n    \n  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript  ">\n      \n<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip>\n      <tr>\n        <td id="file-fetch-custom-error-js-L1" class="blob-num js-line-number" data-line-number="1"></td>\n        <td id="file-fetch-custom-error-js-LC1" class="blob-code blob-code-inner js-file-line"><span class=pl-k>const</span> <span class=pl-en>isOk</span> <span class=pl-c1>=</span> <span class=pl-s1>response</span> <span class=pl-c1>=&gt;</span> <span class=pl-s1>response</span><span class=pl-kos>.</span><span class=pl-c1>ok</span> ? <span class=pl-s1>response</span><span class=pl-kos>.</span><span class=pl-en>json</span><span class=pl-kos>(</span><span class=pl-kos>)</span> : <span class=pl-v>Promise</span><span class=pl-kos>.</span><span class=pl-en>reject</span><span class=pl-kos>(</span><span class=pl-k>new</span> <span class=pl-v>Error</span><span class=pl-kos>(</span><span class=pl-s>&#39;Failed to load data from server&#39;</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-fetch-custom-error-js-L2" class="blob-num js-line-number" data-line-number="2"></td>\n        <td id="file-fetch-custom-error-js-LC2" class="blob-code blob-code-inner js-file-line">\n</td>\n      </tr>\n      <tr>\n        <td id="file-fetch-custom-error-js-L3" class="blob-num js-line-number" data-line-number="3"></td>\n        <td id="file-fetch-custom-error-js-LC3" class="blob-code blob-code-inner js-file-line"><span class=pl-en>fetch</span><span class=pl-kos>(</span><span class=pl-s>&#39;https://api.github.com/orgs/nodejs&#39;</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-fetch-custom-error-js-L4" class="blob-num js-line-number" data-line-number="4"></td>\n        <td id="file-fetch-custom-error-js-LC4" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-en>isOk</span><span class=pl-kos>)</span> <span class=pl-c>// &lt;= Use `isOk` function here</span></td>\n      </tr>\n      <tr>\n        <td id="file-fetch-custom-error-js-L5" class="blob-num js-line-number" data-line-number="5"></td>\n        <td id="file-fetch-custom-error-js-LC5" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>data</span> <span class=pl-c1>=&gt;</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-fetch-custom-error-js-L6" class="blob-num js-line-number" data-line-number="6"></td>\n        <td id="file-fetch-custom-error-js-LC6" class="blob-code blob-code-inner js-file-line">  <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>log</span><span class=pl-kos>(</span><span class=pl-s1>data</span><span class=pl-kos>)</span> <span class=pl-c>// Prints result from `response.json()`</span></td>\n      </tr>\n      <tr>\n        <td id="file-fetch-custom-error-js-L7" class="blob-num js-line-number" data-line-number="7"></td>\n        <td id="file-fetch-custom-error-js-LC7" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-fetch-custom-error-js-L8" class="blob-num js-line-number" data-line-number="8"></td>\n        <td id="file-fetch-custom-error-js-LC8" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>.</span><span class=pl-en>catch</span><span class=pl-kos>(</span><span class=pl-s1>error</span> <span class=pl-c1>=&gt;</span> <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>error</span><span class=pl-kos>(</span><span class=pl-s1>error</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class="gist-meta">\n        <a href="https://gist.github.com/justsml/81919a72897ebc503c6b34a556a9bde2/raw/f25a89332b87d16a1cb06a123046091f0a207e0e/fetch-custom-error.js" style="float:right">view raw</a>\n        <a href="https://gist.github.com/justsml/81919a72897ebc503c6b34a556a9bde2#file-fetch-custom-error-js">fetch-custom-error.js</a>\n        hosted with &#10084; by <a href="https://github.com">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<h3 id="cors-example"><a href="#cors-example" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CORS example</h3>\n<p>CORS is primarily checked at the server - so make sure your configuration is correct on the server-side.</p>\n<p>The <code class="language-text">credentials</code> option controls if your cookies are automatically included.</p>\n<p><div id="gist93070384" class="gist">\n    <div class="gist-file">\n      <div class="gist-data">\n        <div class="js-gist-file-update-container js-task-list-container file-box">\n  <div id="file-cors-example-js" class="file my-2">\n    \n  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript  ">\n      \n<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip>\n      <tr>\n        <td id="file-cors-example-js-L1" class="blob-num js-line-number" data-line-number="1"></td>\n        <td id="file-cors-example-js-LC1" class="blob-code blob-code-inner js-file-line"><span class=pl-en>fetch</span><span class=pl-kos>(</span><span class=pl-s>&#39;https://api.github.com/orgs/nodejs&#39;</span><span class=pl-kos>,</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-cors-example-js-L2" class="blob-num js-line-number" data-line-number="2"></td>\n        <td id="file-cors-example-js-LC2" class="blob-code blob-code-inner js-file-line">  <span class=pl-c1>credentials</span>: <span class=pl-s>&#39;include&#39;</span><span class=pl-kos>,</span> <span class=pl-c>// Useful for including session ID (and, IIRC, authorization headers)</span></td>\n      </tr>\n      <tr>\n        <td id="file-cors-example-js-L3" class="blob-num js-line-number" data-line-number="3"></td>\n        <td id="file-cors-example-js-LC3" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-cors-example-js-L4" class="blob-num js-line-number" data-line-number="4"></td>\n        <td id="file-cors-example-js-LC4" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>response</span> <span class=pl-c1>=&gt;</span> <span class=pl-s1>response</span><span class=pl-kos>.</span><span class=pl-en>json</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-cors-example-js-L5" class="blob-num js-line-number" data-line-number="5"></td>\n        <td id="file-cors-example-js-LC5" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>data</span> <span class=pl-c1>=&gt;</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-cors-example-js-L6" class="blob-num js-line-number" data-line-number="6"></td>\n        <td id="file-cors-example-js-LC6" class="blob-code blob-code-inner js-file-line">  <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>log</span><span class=pl-kos>(</span><span class=pl-s1>data</span><span class=pl-kos>)</span> <span class=pl-c>// Prints result from `response.json()`</span></td>\n      </tr>\n      <tr>\n        <td id="file-cors-example-js-L7" class="blob-num js-line-number" data-line-number="7"></td>\n        <td id="file-cors-example-js-LC7" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-cors-example-js-L8" class="blob-num js-line-number" data-line-number="8"></td>\n        <td id="file-cors-example-js-LC8" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>.</span><span class=pl-en>catch</span><span class=pl-kos>(</span><span class=pl-s1>error</span> <span class=pl-c1>=&gt;</span> <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>error</span><span class=pl-kos>(</span><span class=pl-s1>error</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class="gist-meta">\n        <a href="https://gist.github.com/justsml/3ddd9ed8705f48cdf45d313d1e57aa2a/raw/e1b9b3610b748ac12d465b008ba2c2c40a4fafb8/cors-example.js" style="float:right">view raw</a>\n        <a href="https://gist.github.com/justsml/3ddd9ed8705f48cdf45d313d1e57aa2a#file-cors-example-js">cors-example.js</a>\n        hosted with &#10084; by <a href="https://github.com">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<h3 id="posting-json"><a href="#posting-json" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Posting JSON</h3>\n<p><div id="gist93070391" class="gist">\n    <div class="gist-file">\n      <div class="gist-data">\n        <div class="js-gist-file-update-container js-task-list-container file-box">\n  <div id="file-posting-json-js" class="file my-2">\n    \n  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript  ">\n      \n<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip>\n      <tr>\n        <td id="file-posting-json-js-L1" class="blob-num js-line-number" data-line-number="1"></td>\n        <td id="file-posting-json-js-LC1" class="blob-code blob-code-inner js-file-line"><span class=pl-en>postRequest</span><span class=pl-kos>(</span><span class=pl-s>&#39;http://example.com/api/v1/users&#39;</span><span class=pl-kos>,</span> <span class=pl-kos>{</span><span class=pl-c1>user</span>: <span class=pl-s>&#39;Dan&#39;</span><span class=pl-kos>}</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-posting-json-js-L2" class="blob-num js-line-number" data-line-number="2"></td>\n        <td id="file-posting-json-js-LC2" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>data</span> <span class=pl-c1>=&gt;</span> <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>log</span><span class=pl-kos>(</span><span class=pl-s1>data</span><span class=pl-kos>)</span><span class=pl-kos>)</span> <span class=pl-c>// Result from the `response.json()` call</span></td>\n      </tr>\n      <tr>\n        <td id="file-posting-json-js-L3" class="blob-num js-line-number" data-line-number="3"></td>\n        <td id="file-posting-json-js-LC3" class="blob-code blob-code-inner js-file-line">\n</td>\n      </tr>\n      <tr>\n        <td id="file-posting-json-js-L4" class="blob-num js-line-number" data-line-number="4"></td>\n        <td id="file-posting-json-js-LC4" class="blob-code blob-code-inner js-file-line"><span class=pl-k>function</span> <span class=pl-en>postRequest</span><span class=pl-kos>(</span><span class=pl-s1>url</span><span class=pl-kos>,</span> <span class=pl-s1>data</span><span class=pl-kos>)</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-posting-json-js-L5" class="blob-num js-line-number" data-line-number="5"></td>\n        <td id="file-posting-json-js-LC5" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>return</span> <span class=pl-en>fetch</span><span class=pl-kos>(</span><span class=pl-s1>url</span><span class=pl-kos>,</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-posting-json-js-L6" class="blob-num js-line-number" data-line-number="6"></td>\n        <td id="file-posting-json-js-LC6" class="blob-code blob-code-inner js-file-line">    <span class=pl-c1>credentials</span>: <span class=pl-s>&#39;same-origin&#39;</span><span class=pl-kos>,</span> <span class=pl-c>// &#39;include&#39;, default: &#39;omit&#39;</span></td>\n      </tr>\n      <tr>\n        <td id="file-posting-json-js-L7" class="blob-num js-line-number" data-line-number="7"></td>\n        <td id="file-posting-json-js-LC7" class="blob-code blob-code-inner js-file-line">    <span class=pl-c1>method</span>: <span class=pl-s>&#39;POST&#39;</span><span class=pl-kos>,</span>             <span class=pl-c>// &#39;GET&#39;, &#39;PUT&#39;, &#39;DELETE&#39;, etc.</span></td>\n      </tr>\n      <tr>\n        <td id="file-posting-json-js-L8" class="blob-num js-line-number" data-line-number="8"></td>\n        <td id="file-posting-json-js-LC8" class="blob-code blob-code-inner js-file-line">    <span class=pl-c1>body</span>: <span class=pl-c1>JSON</span><span class=pl-kos>.</span><span class=pl-en>stringify</span><span class=pl-kos>(</span><span class=pl-s1>data</span><span class=pl-kos>)</span><span class=pl-kos>,</span> <span class=pl-c>// Use correct payload (matching &#39;Content-Type&#39;)</span></td>\n      </tr>\n      <tr>\n        <td id="file-posting-json-js-L9" class="blob-num js-line-number" data-line-number="9"></td>\n        <td id="file-posting-json-js-LC9" class="blob-code blob-code-inner js-file-line">    <span class=pl-c1>headers</span>: <span class=pl-kos>{</span> <span class=pl-s>&#39;Content-Type&#39;</span>: <span class=pl-s>&#39;application/json&#39;</span> <span class=pl-kos>}</span><span class=pl-kos>,</span></td>\n      </tr>\n      <tr>\n        <td id="file-posting-json-js-L10" class="blob-num js-line-number" data-line-number="10"></td>\n        <td id="file-posting-json-js-LC10" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>}</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-posting-json-js-L11" class="blob-num js-line-number" data-line-number="11"></td>\n        <td id="file-posting-json-js-LC11" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>response</span> <span class=pl-c1>=&gt;</span> <span class=pl-s1>response</span><span class=pl-kos>.</span><span class=pl-en>json</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-posting-json-js-L12" class="blob-num js-line-number" data-line-number="12"></td>\n        <td id="file-posting-json-js-LC12" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>.</span><span class=pl-en>catch</span><span class=pl-kos>(</span><span class=pl-s1>error</span> <span class=pl-c1>=&gt;</span> <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>error</span><span class=pl-kos>(</span><span class=pl-s1>error</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-posting-json-js-L13" class="blob-num js-line-number" data-line-number="13"></td>\n        <td id="file-posting-json-js-LC13" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class="gist-meta">\n        <a href="https://gist.github.com/justsml/13915347d6c8413c73f4bd7240c68e51/raw/b8ed797b118af65eb858bffdd385ef49dac4105f/posting-json.js" style="float:right">view raw</a>\n        <a href="https://gist.github.com/justsml/13915347d6c8413c73f4bd7240c68e51#file-posting-json-js">posting-json.js</a>\n        hosted with &#10084; by <a href="https://github.com">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<h3 id="posting-an-html-form"><a href="#posting-an-html-form" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Posting an HTML <code class="language-text">&lt;form&gt;</code></h3>\n<p><div id="gist93070398" class="gist">\n    <div class="gist-file">\n      <div class="gist-data">\n        <div class="js-gist-file-update-container js-task-list-container file-box">\n  <div id="file-post-form-data-js" class="file my-2">\n    \n  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript  ">\n      \n<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip>\n      <tr>\n        <td id="file-post-form-data-js-L1" class="blob-num js-line-number" data-line-number="1"></td>\n        <td id="file-post-form-data-js-LC1" class="blob-code blob-code-inner js-file-line"><span class=pl-en>postForm</span><span class=pl-kos>(</span><span class=pl-s>&#39;http://example.com/api/v1/users&#39;</span><span class=pl-kos>,</span> <span class=pl-s>&#39;form#userEdit&#39;</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-post-form-data-js-L2" class="blob-num js-line-number" data-line-number="2"></td>\n        <td id="file-post-form-data-js-LC2" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>data</span> <span class=pl-c1>=&gt;</span> <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>log</span><span class=pl-kos>(</span><span class=pl-s1>data</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-post-form-data-js-L3" class="blob-num js-line-number" data-line-number="3"></td>\n        <td id="file-post-form-data-js-LC3" class="blob-code blob-code-inner js-file-line">\n</td>\n      </tr>\n      <tr>\n        <td id="file-post-form-data-js-L4" class="blob-num js-line-number" data-line-number="4"></td>\n        <td id="file-post-form-data-js-LC4" class="blob-code blob-code-inner js-file-line"><span class=pl-k>function</span> <span class=pl-en>postForm</span><span class=pl-kos>(</span><span class=pl-s1>url</span><span class=pl-kos>,</span> <span class=pl-s1>formSelector</span><span class=pl-kos>)</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-post-form-data-js-L5" class="blob-num js-line-number" data-line-number="5"></td>\n        <td id="file-post-form-data-js-LC5" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>const</span> <span class=pl-s1>formData</span> <span class=pl-c1>=</span> <span class=pl-k>new</span> <span class=pl-v>FormData</span><span class=pl-kos>(</span><span class=pl-smi>document</span><span class=pl-kos>.</span><span class=pl-en>querySelector</span><span class=pl-kos>(</span><span class=pl-s1>formSelector</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-post-form-data-js-L6" class="blob-num js-line-number" data-line-number="6"></td>\n        <td id="file-post-form-data-js-LC6" class="blob-code blob-code-inner js-file-line">\n</td>\n      </tr>\n      <tr>\n        <td id="file-post-form-data-js-L7" class="blob-num js-line-number" data-line-number="7"></td>\n        <td id="file-post-form-data-js-LC7" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>return</span> <span class=pl-en>fetch</span><span class=pl-kos>(</span><span class=pl-s1>url</span><span class=pl-kos>,</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-post-form-data-js-L8" class="blob-num js-line-number" data-line-number="8"></td>\n        <td id="file-post-form-data-js-LC8" class="blob-code blob-code-inner js-file-line">    <span class=pl-c1>method</span>: <span class=pl-s>&#39;POST&#39;</span><span class=pl-kos>,</span> <span class=pl-c>// &#39;GET&#39;, &#39;PUT&#39;, &#39;DELETE&#39;, etc.</span></td>\n      </tr>\n      <tr>\n        <td id="file-post-form-data-js-L9" class="blob-num js-line-number" data-line-number="9"></td>\n        <td id="file-post-form-data-js-LC9" class="blob-code blob-code-inner js-file-line">    <span class=pl-c1>body</span>: <span class=pl-s1>formData</span>  <span class=pl-c>// a FormData will automatically set the &#39;Content-Type&#39;</span></td>\n      </tr>\n      <tr>\n        <td id="file-post-form-data-js-L10" class="blob-num js-line-number" data-line-number="10"></td>\n        <td id="file-post-form-data-js-LC10" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>}</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-post-form-data-js-L11" class="blob-num js-line-number" data-line-number="11"></td>\n        <td id="file-post-form-data-js-LC11" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>response</span> <span class=pl-c1>=&gt;</span> <span class=pl-s1>response</span><span class=pl-kos>.</span><span class=pl-en>json</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-post-form-data-js-L12" class="blob-num js-line-number" data-line-number="12"></td>\n        <td id="file-post-form-data-js-LC12" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>.</span><span class=pl-en>catch</span><span class=pl-kos>(</span><span class=pl-s1>error</span> <span class=pl-c1>=&gt;</span> <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>error</span><span class=pl-kos>(</span><span class=pl-s1>error</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-post-form-data-js-L13" class="blob-num js-line-number" data-line-number="13"></td>\n        <td id="file-post-form-data-js-LC13" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class="gist-meta">\n        <a href="https://gist.github.com/justsml/ef2e356bec0ef7c6e528d84a5f75ba7e/raw/9f860fa93577c379eaf44d5a29cf97003afa1882/post-form-data.js" style="float:right">view raw</a>\n        <a href="https://gist.github.com/justsml/ef2e356bec0ef7c6e528d84a5f75ba7e#file-post-form-data-js">post-form-data.js</a>\n        hosted with &#10084; by <a href="https://github.com">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<h3 id="form-encoded-data"><a href="#form-encoded-data" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Form encoded data</h3>\n<p>To post data with a Content-Type of <code class="language-text">application/x-www-form-urlencoded</code> we will use <code class="language-text">URLSearchParams</code> to encode the data like a query string.</p>\n<p>For example, <code class="language-text">new URLSearchParams({a: 1, b: 2})</code> yields <code class="language-text">a=1&amp;b=2</code>.</p>\n<p><div id="gist93070403" class="gist">\n    <div class="gist-file">\n      <div class="gist-data">\n        <div class="js-gist-file-update-container js-task-list-container file-box">\n  <div id="file-posting-form-encoded-data-js" class="file my-2">\n    \n  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript  ">\n      \n<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip>\n      <tr>\n        <td id="file-posting-form-encoded-data-js-L1" class="blob-num js-line-number" data-line-number="1"></td>\n        <td id="file-posting-form-encoded-data-js-LC1" class="blob-code blob-code-inner js-file-line"><span class=pl-en>postFormData</span><span class=pl-kos>(</span><span class=pl-s>&#39;http://example.com/api/v1/users&#39;</span><span class=pl-kos>,</span> <span class=pl-kos>{</span><span class=pl-c1>user</span>: <span class=pl-s>&#39;Mary&#39;</span><span class=pl-kos>}</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-posting-form-encoded-data-js-L2" class="blob-num js-line-number" data-line-number="2"></td>\n        <td id="file-posting-form-encoded-data-js-LC2" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>data</span> <span class=pl-c1>=&gt;</span> <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>log</span><span class=pl-kos>(</span><span class=pl-s1>data</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-posting-form-encoded-data-js-L3" class="blob-num js-line-number" data-line-number="3"></td>\n        <td id="file-posting-form-encoded-data-js-LC3" class="blob-code blob-code-inner js-file-line">\n</td>\n      </tr>\n      <tr>\n        <td id="file-posting-form-encoded-data-js-L4" class="blob-num js-line-number" data-line-number="4"></td>\n        <td id="file-posting-form-encoded-data-js-LC4" class="blob-code blob-code-inner js-file-line"><span class=pl-k>function</span> <span class=pl-en>postFormData</span><span class=pl-kos>(</span><span class=pl-s1>url</span><span class=pl-kos>,</span> <span class=pl-s1>data</span><span class=pl-kos>)</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-posting-form-encoded-data-js-L5" class="blob-num js-line-number" data-line-number="5"></td>\n        <td id="file-posting-form-encoded-data-js-LC5" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>return</span> <span class=pl-en>fetch</span><span class=pl-kos>(</span><span class=pl-s1>url</span><span class=pl-kos>,</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-posting-form-encoded-data-js-L6" class="blob-num js-line-number" data-line-number="6"></td>\n        <td id="file-posting-form-encoded-data-js-LC6" class="blob-code blob-code-inner js-file-line">    <span class=pl-c1>method</span>: <span class=pl-s>&#39;POST&#39;</span><span class=pl-kos>,</span> <span class=pl-c>// &#39;GET&#39;, &#39;PUT&#39;, &#39;DELETE&#39;, etc.</span></td>\n      </tr>\n      <tr>\n        <td id="file-posting-form-encoded-data-js-L7" class="blob-num js-line-number" data-line-number="7"></td>\n        <td id="file-posting-form-encoded-data-js-LC7" class="blob-code blob-code-inner js-file-line">    <span class=pl-c1>body</span>: <span class=pl-k>new</span> <span class=pl-v>URLSearchParams</span><span class=pl-kos>(</span><span class=pl-s1>data</span><span class=pl-kos>)</span><span class=pl-kos>,</span></td>\n      </tr>\n      <tr>\n        <td id="file-posting-form-encoded-data-js-L8" class="blob-num js-line-number" data-line-number="8"></td>\n        <td id="file-posting-form-encoded-data-js-LC8" class="blob-code blob-code-inner js-file-line">    <span class=pl-c1>headers</span>: <span class=pl-k>new</span> <span class=pl-v>Headers</span><span class=pl-kos>(</span><span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-posting-form-encoded-data-js-L9" class="blob-num js-line-number" data-line-number="9"></td>\n        <td id="file-posting-form-encoded-data-js-LC9" class="blob-code blob-code-inner js-file-line">      <span class=pl-s>&#39;Content-type&#39;</span>: <span class=pl-s>&#39;application/x-www-form-urlencoded; charset=UTF-8&#39;</span></td>\n      </tr>\n      <tr>\n        <td id="file-posting-form-encoded-data-js-L10" class="blob-num js-line-number" data-line-number="10"></td>\n        <td id="file-posting-form-encoded-data-js-LC10" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-posting-form-encoded-data-js-L11" class="blob-num js-line-number" data-line-number="11"></td>\n        <td id="file-posting-form-encoded-data-js-LC11" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>}</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-posting-form-encoded-data-js-L12" class="blob-num js-line-number" data-line-number="12"></td>\n        <td id="file-posting-form-encoded-data-js-LC12" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>response</span> <span class=pl-c1>=&gt;</span> <span class=pl-s1>response</span><span class=pl-kos>.</span><span class=pl-en>json</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-posting-form-encoded-data-js-L13" class="blob-num js-line-number" data-line-number="13"></td>\n        <td id="file-posting-form-encoded-data-js-LC13" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>.</span><span class=pl-en>catch</span><span class=pl-kos>(</span><span class=pl-s1>error</span> <span class=pl-c1>=&gt;</span> <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>error</span><span class=pl-kos>(</span><span class=pl-s1>error</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-posting-form-encoded-data-js-L14" class="blob-num js-line-number" data-line-number="14"></td>\n        <td id="file-posting-form-encoded-data-js-LC14" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class="gist-meta">\n        <a href="https://gist.github.com/justsml/716c4534ef4afb22f65d4fc4367c7136/raw/7b9a41727c9cd4754b8f53d43b9db6f1c82bf785/posting-form-encoded-data.js" style="float:right">view raw</a>\n        <a href="https://gist.github.com/justsml/716c4534ef4afb22f65d4fc4367c7136#file-posting-form-encoded-data-js">posting-form-encoded-data.js</a>\n        hosted with &#10084; by <a href="https://github.com">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<h3 id="uploading-a-file"><a href="#uploading-a-file" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Uploading a file</h3>\n<p><div id="gist93070410" class="gist">\n    <div class="gist-file">\n      <div class="gist-data">\n        <div class="js-gist-file-update-container js-task-list-container file-box">\n  <div id="file-uploading-files-js" class="file my-2">\n    \n  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript  ">\n      \n<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip>\n      <tr>\n        <td id="file-uploading-files-js-L1" class="blob-num js-line-number" data-line-number="1"></td>\n        <td id="file-uploading-files-js-LC1" class="blob-code blob-code-inner js-file-line"><span class=pl-en>postFile</span><span class=pl-kos>(</span><span class=pl-s>&#39;http://example.com/api/v1/users&#39;</span><span class=pl-kos>,</span> <span class=pl-s>&#39;input[type=&quot;file&quot;].avatar&#39;</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-files-js-L2" class="blob-num js-line-number" data-line-number="2"></td>\n        <td id="file-uploading-files-js-LC2" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>data</span> <span class=pl-c1>=&gt;</span> <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>log</span><span class=pl-kos>(</span><span class=pl-s1>data</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-files-js-L3" class="blob-num js-line-number" data-line-number="3"></td>\n        <td id="file-uploading-files-js-LC3" class="blob-code blob-code-inner js-file-line">\n</td>\n      </tr>\n      <tr>\n        <td id="file-uploading-files-js-L4" class="blob-num js-line-number" data-line-number="4"></td>\n        <td id="file-uploading-files-js-LC4" class="blob-code blob-code-inner js-file-line"><span class=pl-k>function</span> <span class=pl-en>postFile</span><span class=pl-kos>(</span><span class=pl-s1>url</span><span class=pl-kos>,</span> <span class=pl-s1>fileSelector</span><span class=pl-kos>)</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-files-js-L5" class="blob-num js-line-number" data-line-number="5"></td>\n        <td id="file-uploading-files-js-LC5" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>const</span> <span class=pl-s1>formData</span> <span class=pl-c1>=</span> <span class=pl-k>new</span> <span class=pl-v>FormData</span><span class=pl-kos>(</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-files-js-L6" class="blob-num js-line-number" data-line-number="6"></td>\n        <td id="file-uploading-files-js-LC6" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>const</span> <span class=pl-s1>fileField</span> <span class=pl-c1>=</span> <span class=pl-smi>document</span><span class=pl-kos>.</span><span class=pl-en>querySelector</span><span class=pl-kos>(</span><span class=pl-s1>fileSelector</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-files-js-L7" class="blob-num js-line-number" data-line-number="7"></td>\n        <td id="file-uploading-files-js-LC7" class="blob-code blob-code-inner js-file-line">\n</td>\n      </tr>\n      <tr>\n        <td id="file-uploading-files-js-L8" class="blob-num js-line-number" data-line-number="8"></td>\n        <td id="file-uploading-files-js-LC8" class="blob-code blob-code-inner js-file-line">  <span class=pl-s1>formData</span><span class=pl-kos>.</span><span class=pl-en>append</span><span class=pl-kos>(</span><span class=pl-s>&#39;username&#39;</span><span class=pl-kos>,</span> <span class=pl-s>&#39;abc123&#39;</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-files-js-L9" class="blob-num js-line-number" data-line-number="9"></td>\n        <td id="file-uploading-files-js-LC9" class="blob-code blob-code-inner js-file-line">  <span class=pl-s1>formData</span><span class=pl-kos>.</span><span class=pl-en>append</span><span class=pl-kos>(</span><span class=pl-s>&#39;avatar&#39;</span><span class=pl-kos>,</span> <span class=pl-s1>fileField</span><span class=pl-kos>.</span><span class=pl-c1>files</span><span class=pl-kos>[</span><span class=pl-c1>0</span><span class=pl-kos>]</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-files-js-L10" class="blob-num js-line-number" data-line-number="10"></td>\n        <td id="file-uploading-files-js-LC10" class="blob-code blob-code-inner js-file-line">\n</td>\n      </tr>\n      <tr>\n        <td id="file-uploading-files-js-L11" class="blob-num js-line-number" data-line-number="11"></td>\n        <td id="file-uploading-files-js-LC11" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>return</span> <span class=pl-en>fetch</span><span class=pl-kos>(</span><span class=pl-s1>url</span><span class=pl-kos>,</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-files-js-L12" class="blob-num js-line-number" data-line-number="12"></td>\n        <td id="file-uploading-files-js-LC12" class="blob-code blob-code-inner js-file-line">    <span class=pl-c1>method</span>: <span class=pl-s>&#39;POST&#39;</span><span class=pl-kos>,</span> <span class=pl-c>// &#39;GET&#39;, &#39;PUT&#39;, &#39;DELETE&#39;, etc.</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-files-js-L13" class="blob-num js-line-number" data-line-number="13"></td>\n        <td id="file-uploading-files-js-LC13" class="blob-code blob-code-inner js-file-line">    <span class=pl-c1>body</span>: <span class=pl-s1>formData</span>  <span class=pl-c>// Coordinate the body type with &#39;Content-Type&#39;</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-files-js-L14" class="blob-num js-line-number" data-line-number="14"></td>\n        <td id="file-uploading-files-js-LC14" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>}</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-files-js-L15" class="blob-num js-line-number" data-line-number="15"></td>\n        <td id="file-uploading-files-js-LC15" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>response</span> <span class=pl-c1>=&gt;</span> <span class=pl-s1>response</span><span class=pl-kos>.</span><span class=pl-en>json</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-files-js-L16" class="blob-num js-line-number" data-line-number="16"></td>\n        <td id="file-uploading-files-js-LC16" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>.</span><span class=pl-en>catch</span><span class=pl-kos>(</span><span class=pl-s1>error</span> <span class=pl-c1>=&gt;</span> <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>error</span><span class=pl-kos>(</span><span class=pl-s1>error</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-files-js-L17" class="blob-num js-line-number" data-line-number="17"></td>\n        <td id="file-uploading-files-js-LC17" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class="gist-meta">\n        <a href="https://gist.github.com/justsml/301f22aa37df565ba3051bd5f95b4df1/raw/b370e4d13c77ef77f418dded1218c3c4c8ca7590/uploading-files.js" style="float:right">view raw</a>\n        <a href="https://gist.github.com/justsml/301f22aa37df565ba3051bd5f95b4df1#file-uploading-files-js">uploading-files.js</a>\n        hosted with &#10084; by <a href="https://github.com">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<h3 id="uploading-multiple-files"><a href="#uploading-multiple-files" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Uploading multiple files</h3>\n<p>Setup a file upload element with the <code class="language-text">multiple</code> attribute:</p>\n<p><div id="gist93135322" class="gist">\n    <div class="gist-file">\n      <div class="gist-data">\n        <div class="js-gist-file-update-container js-task-list-container file-box">\n  <div id="file-file-upload-field-html" class="file my-2">\n    \n  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-html  ">\n      \n<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip>\n      <tr>\n        <td id="file-file-upload-field-html-L1" class="blob-num js-line-number" data-line-number="1"></td>\n        <td id="file-file-upload-field-html-LC1" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>&lt;</span><span class=pl-ent>input</span> <span class=pl-c1>type</span>=&#39;<span class=pl-s>file</span>&#39; <span class=pl-c1>multiple</span> <span class=pl-c1>class</span>=&#39;<span class=pl-s>files</span>&#39; <span class=pl-c1>name</span>=&#39;<span class=pl-s>files</span>&#39; /&gt;</td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class="gist-meta">\n        <a href="https://gist.github.com/justsml/37836357041d8ca4d1b32e12638cb0ba/raw/053a016eaf8d32dc38e57e9f2dcd8d6b6c4a069e/file-upload-field.html" style="float:right">view raw</a>\n        <a href="https://gist.github.com/justsml/37836357041d8ca4d1b32e12638cb0ba#file-file-upload-field-html">file-upload-field.html</a>\n        hosted with &#10084; by <a href="https://github.com">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<p>Then use with something like:</p>\n<p><div id="gist93070414" class="gist">\n    <div class="gist-file">\n      <div class="gist-data">\n        <div class="js-gist-file-update-container js-task-list-container file-box">\n  <div id="file-uploading-multiple-files-js" class="file my-2">\n    \n  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript  ">\n      \n<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip>\n      <tr>\n        <td id="file-uploading-multiple-files-js-L1" class="blob-num js-line-number" data-line-number="1"></td>\n        <td id="file-uploading-multiple-files-js-LC1" class="blob-code blob-code-inner js-file-line"><span class=pl-en>postFile</span><span class=pl-kos>(</span><span class=pl-s>&#39;http://example.com/api/v1/users&#39;</span><span class=pl-kos>,</span> <span class=pl-s>&#39;input[type=&quot;file&quot;].files&#39;</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-multiple-files-js-L2" class="blob-num js-line-number" data-line-number="2"></td>\n        <td id="file-uploading-multiple-files-js-LC2" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>data</span> <span class=pl-c1>=&gt;</span> <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>log</span><span class=pl-kos>(</span><span class=pl-s1>data</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-multiple-files-js-L3" class="blob-num js-line-number" data-line-number="3"></td>\n        <td id="file-uploading-multiple-files-js-LC3" class="blob-code blob-code-inner js-file-line">\n</td>\n      </tr>\n      <tr>\n        <td id="file-uploading-multiple-files-js-L4" class="blob-num js-line-number" data-line-number="4"></td>\n        <td id="file-uploading-multiple-files-js-LC4" class="blob-code blob-code-inner js-file-line"><span class=pl-k>function</span> <span class=pl-en>postFile</span><span class=pl-kos>(</span><span class=pl-s1>url</span><span class=pl-kos>,</span> <span class=pl-s1>fileSelector</span><span class=pl-kos>)</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-multiple-files-js-L5" class="blob-num js-line-number" data-line-number="5"></td>\n        <td id="file-uploading-multiple-files-js-LC5" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>const</span> <span class=pl-s1>formData</span> <span class=pl-c1>=</span> <span class=pl-k>new</span> <span class=pl-v>FormData</span><span class=pl-kos>(</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-multiple-files-js-L6" class="blob-num js-line-number" data-line-number="6"></td>\n        <td id="file-uploading-multiple-files-js-LC6" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>const</span> <span class=pl-s1>fileFields</span> <span class=pl-c1>=</span> <span class=pl-smi>document</span><span class=pl-kos>.</span><span class=pl-en>querySelectorAll</span><span class=pl-kos>(</span><span class=pl-s1>fileSelector</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-multiple-files-js-L7" class="blob-num js-line-number" data-line-number="7"></td>\n        <td id="file-uploading-multiple-files-js-LC7" class="blob-code blob-code-inner js-file-line">\n</td>\n      </tr>\n      <tr>\n        <td id="file-uploading-multiple-files-js-L8" class="blob-num js-line-number" data-line-number="8"></td>\n        <td id="file-uploading-multiple-files-js-LC8" class="blob-code blob-code-inner js-file-line">  <span class=pl-c>// Add all files to formData</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-multiple-files-js-L9" class="blob-num js-line-number" data-line-number="9"></td>\n        <td id="file-uploading-multiple-files-js-LC9" class="blob-code blob-code-inner js-file-line">  <span class=pl-v>Array</span><span class=pl-kos>.</span><span class=pl-c1>prototype</span><span class=pl-kos>.</span><span class=pl-c1>forEach</span><span class=pl-kos>.</span><span class=pl-en>call</span><span class=pl-kos>(</span><span class=pl-s1>fileFields</span><span class=pl-kos>.</span><span class=pl-c1>files</span><span class=pl-kos>,</span> <span class=pl-s1>f</span> <span class=pl-c1>=&gt;</span> <span class=pl-s1>formData</span><span class=pl-kos>.</span><span class=pl-en>append</span><span class=pl-kos>(</span><span class=pl-s>&#39;files&#39;</span><span class=pl-kos>,</span> <span class=pl-s1>f</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-multiple-files-js-L10" class="blob-num js-line-number" data-line-number="10"></td>\n        <td id="file-uploading-multiple-files-js-LC10" class="blob-code blob-code-inner js-file-line">  <span class=pl-c>// Alternatively for PHPeeps, use `files[]` for the name to support arrays</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-multiple-files-js-L11" class="blob-num js-line-number" data-line-number="11"></td>\n        <td id="file-uploading-multiple-files-js-LC11" class="blob-code blob-code-inner js-file-line">  <span class=pl-c>// Array.prototype.forEach.call(fileFields.files, f =&gt; formData.append(&#39;files[]&#39;, f))</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-multiple-files-js-L12" class="blob-num js-line-number" data-line-number="12"></td>\n        <td id="file-uploading-multiple-files-js-LC12" class="blob-code blob-code-inner js-file-line">\n</td>\n      </tr>\n      <tr>\n        <td id="file-uploading-multiple-files-js-L13" class="blob-num js-line-number" data-line-number="13"></td>\n        <td id="file-uploading-multiple-files-js-LC13" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>return</span> <span class=pl-en>fetch</span><span class=pl-kos>(</span><span class=pl-s1>url</span><span class=pl-kos>,</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-multiple-files-js-L14" class="blob-num js-line-number" data-line-number="14"></td>\n        <td id="file-uploading-multiple-files-js-LC14" class="blob-code blob-code-inner js-file-line">    <span class=pl-c1>method</span>: <span class=pl-s>&#39;POST&#39;</span><span class=pl-kos>,</span> <span class=pl-c>// &#39;GET&#39;, &#39;PUT&#39;, &#39;DELETE&#39;, etc.</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-multiple-files-js-L15" class="blob-num js-line-number" data-line-number="15"></td>\n        <td id="file-uploading-multiple-files-js-LC15" class="blob-code blob-code-inner js-file-line">    <span class=pl-c1>body</span>: <span class=pl-s1>formData</span>  <span class=pl-c>// Coordinate the body type with &#39;Content-Type&#39;</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-multiple-files-js-L16" class="blob-num js-line-number" data-line-number="16"></td>\n        <td id="file-uploading-multiple-files-js-LC16" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>}</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-multiple-files-js-L17" class="blob-num js-line-number" data-line-number="17"></td>\n        <td id="file-uploading-multiple-files-js-LC17" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>response</span> <span class=pl-c1>=&gt;</span> <span class=pl-s1>response</span><span class=pl-kos>.</span><span class=pl-en>json</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-multiple-files-js-L18" class="blob-num js-line-number" data-line-number="18"></td>\n        <td id="file-uploading-multiple-files-js-LC18" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>.</span><span class=pl-en>catch</span><span class=pl-kos>(</span><span class=pl-s1>error</span> <span class=pl-c1>=&gt;</span> <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>error</span><span class=pl-kos>(</span><span class=pl-s1>error</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-uploading-multiple-files-js-L19" class="blob-num js-line-number" data-line-number="19"></td>\n        <td id="file-uploading-multiple-files-js-LC19" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class="gist-meta">\n        <a href="https://gist.github.com/justsml/d17f50c36a5ddb70f584c0aa6de94237/raw/afd229d2c402858893a43686ba398a6547a0b0a3/uploading-multiple-files.js" style="float:right">view raw</a>\n        <a href="https://gist.github.com/justsml/d17f50c36a5ddb70f584c0aa6de94237#file-uploading-multiple-files-js">uploading-multiple-files.js</a>\n        hosted with &#10084; by <a href="https://github.com">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<h3 id="timeouts"><a href="#timeouts" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Timeouts</h3>\n<p>Here‚Äôs a generic Promise timeout, using the ‚ÄúPartial Application‚Äù pattern. It‚Äôll work with any Promise interface. Don‚Äôt do too much work in the supplied promise chain, it will keep running - and any failures have a way of creating long term memory leaks.</p>\n<p><div id="gist93578660" class="gist">\n    <div class="gist-file">\n      <div class="gist-data">\n        <div class="js-gist-file-update-container js-task-list-container file-box">\n  <div id="file-promised-timeout-js" class="file my-2">\n    \n  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript  ">\n      \n<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip>\n      <tr>\n        <td id="file-promised-timeout-js-L1" class="blob-num js-line-number" data-line-number="1"></td>\n        <td id="file-promised-timeout-js-LC1" class="blob-code blob-code-inner js-file-line"><span class=pl-k>function</span> <span class=pl-en>promiseTimeout</span><span class=pl-kos>(</span><span class=pl-s1>msec</span><span class=pl-kos>)</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L2" class="blob-num js-line-number" data-line-number="2"></td>\n        <td id="file-promised-timeout-js-LC2" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>return</span> <span class=pl-s1>promise</span> <span class=pl-c1>=&gt;</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L3" class="blob-num js-line-number" data-line-number="3"></td>\n        <td id="file-promised-timeout-js-LC3" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>const</span> <span class=pl-s1>timeout</span> <span class=pl-c1>=</span> <span class=pl-k>new</span> <span class=pl-v>Promise</span><span class=pl-kos>(</span><span class=pl-kos>(</span><span class=pl-s1>yea</span><span class=pl-kos>,</span> <span class=pl-s1>nah</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span> <span class=pl-en>setTimeout</span><span class=pl-kos>(</span><span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span> <span class=pl-s1>nah</span><span class=pl-kos>(</span><span class=pl-k>new</span> <span class=pl-v>Error</span><span class=pl-kos>(</span><span class=pl-s>&#39;Timeout expired&#39;</span><span class=pl-kos>)</span><span class=pl-kos>)</span><span class=pl-kos>,</span> <span class=pl-s1>msec</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L4" class="blob-num js-line-number" data-line-number="4"></td>\n        <td id="file-promised-timeout-js-LC4" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-v>Promise</span><span class=pl-kos>.</span><span class=pl-en>race</span><span class=pl-kos>(</span><span class=pl-kos>[</span><span class=pl-s1>promise</span><span class=pl-kos>,</span> <span class=pl-s1>timeout</span><span class=pl-kos>]</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L5" class="blob-num js-line-number" data-line-number="5"></td>\n        <td id="file-promised-timeout-js-LC5" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>}</span></td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L6" class="blob-num js-line-number" data-line-number="6"></td>\n        <td id="file-promised-timeout-js-LC6" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span></td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L7" class="blob-num js-line-number" data-line-number="7"></td>\n        <td id="file-promised-timeout-js-LC7" class="blob-code blob-code-inner js-file-line">\n</td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L8" class="blob-num js-line-number" data-line-number="8"></td>\n        <td id="file-promised-timeout-js-LC8" class="blob-code blob-code-inner js-file-line"><span class=pl-en>promiseTimeout</span><span class=pl-kos>(</span><span class=pl-c1>5000</span><span class=pl-kos>)</span><span class=pl-kos>(</span><span class=pl-en>fetch</span><span class=pl-kos>(</span><span class=pl-s>&#39;https://api.github.com/orgs/nodejs&#39;</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L9" class="blob-num js-line-number" data-line-number="9"></td>\n        <td id="file-promised-timeout-js-LC9" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>response</span> <span class=pl-c1>=&gt;</span> <span class=pl-s1>response</span><span class=pl-kos>.</span><span class=pl-en>json</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L10" class="blob-num js-line-number" data-line-number="10"></td>\n        <td id="file-promised-timeout-js-LC10" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>data</span> <span class=pl-c1>=&gt;</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L11" class="blob-num js-line-number" data-line-number="11"></td>\n        <td id="file-promised-timeout-js-LC11" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>log</span><span class=pl-kos>(</span><span class=pl-s1>data</span><span class=pl-kos>)</span> <span class=pl-c>// Prints result from `response.json()` in getRequest</span></td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L12" class="blob-num js-line-number" data-line-number="12"></td>\n        <td id="file-promised-timeout-js-LC12" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>}</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L13" class="blob-num js-line-number" data-line-number="13"></td>\n        <td id="file-promised-timeout-js-LC13" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>.</span><span class=pl-en>catch</span><span class=pl-kos>(</span><span class=pl-s1>error</span> <span class=pl-c1>=&gt;</span> <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>error</span><span class=pl-kos>(</span><span class=pl-s1>error</span><span class=pl-kos>)</span><span class=pl-kos>)</span> <span class=pl-c>// Catches any timeout (or other failure)</span></td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L14" class="blob-num js-line-number" data-line-number="14"></td>\n        <td id="file-promised-timeout-js-LC14" class="blob-code blob-code-inner js-file-line">\n</td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L15" class="blob-num js-line-number" data-line-number="15"></td>\n        <td id="file-promised-timeout-js-LC15" class="blob-code blob-code-inner js-file-line">\n</td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L16" class="blob-num js-line-number" data-line-number="16"></td>\n        <td id="file-promised-timeout-js-LC16" class="blob-code blob-code-inner js-file-line"><span class=pl-c>////////////////////////////////////////////////////////////////////////</span></td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L17" class="blob-num js-line-number" data-line-number="17"></td>\n        <td id="file-promised-timeout-js-LC17" class="blob-code blob-code-inner js-file-line"><span class=pl-c>////////////////////////////////////////////////////////////////////////</span></td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L18" class="blob-num js-line-number" data-line-number="18"></td>\n        <td id="file-promised-timeout-js-LC18" class="blob-code blob-code-inner js-file-line"><span class=pl-c>////////////////////////////////////////////////////////////////////////</span></td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L19" class="blob-num js-line-number" data-line-number="19"></td>\n        <td id="file-promised-timeout-js-LC19" class="blob-code blob-code-inner js-file-line">\n</td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L20" class="blob-num js-line-number" data-line-number="20"></td>\n        <td id="file-promised-timeout-js-LC20" class="blob-code blob-code-inner js-file-line"><span class=pl-c>// Alternative example:</span></td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L21" class="blob-num js-line-number" data-line-number="21"></td>\n        <td id="file-promised-timeout-js-LC21" class="blob-code blob-code-inner js-file-line"><span class=pl-en>fetchTimeout</span><span class=pl-kos>(</span><span class=pl-c1>5000</span><span class=pl-kos>,</span> <span class=pl-s>&#39;https://api.github.com/orgs/nodejs&#39;</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L22" class="blob-num js-line-number" data-line-number="22"></td>\n        <td id="file-promised-timeout-js-LC22" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-c1>log</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L23" class="blob-num js-line-number" data-line-number="23"></td>\n        <td id="file-promised-timeout-js-LC23" class="blob-code blob-code-inner js-file-line"><span class=pl-c>// Alternative implementation:</span></td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L24" class="blob-num js-line-number" data-line-number="24"></td>\n        <td id="file-promised-timeout-js-LC24" class="blob-code blob-code-inner js-file-line"><span class=pl-k>function</span> <span class=pl-en>fetchTimeout</span><span class=pl-kos>(</span><span class=pl-s1>msec</span><span class=pl-kos>,</span> ...<span class=pl-s1>args</span><span class=pl-kos>)</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L25" class="blob-num js-line-number" data-line-number="25"></td>\n        <td id="file-promised-timeout-js-LC25" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>return</span> <span class=pl-en>raceTimeout</span><span class=pl-kos>(</span><span class=pl-en>fetch</span><span class=pl-kos>(</span>...<span class=pl-s1>args</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L26" class="blob-num js-line-number" data-line-number="26"></td>\n        <td id="file-promised-timeout-js-LC26" class="blob-code blob-code-inner js-file-line">\n</td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L27" class="blob-num js-line-number" data-line-number="27"></td>\n        <td id="file-promised-timeout-js-LC27" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>function</span> <span class=pl-en>raceTimeout</span><span class=pl-kos>(</span><span class=pl-s1>promise</span><span class=pl-kos>)</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L28" class="blob-num js-line-number" data-line-number="28"></td>\n        <td id="file-promised-timeout-js-LC28" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>const</span> <span class=pl-s1>timeout</span> <span class=pl-c1>=</span> <span class=pl-k>new</span> <span class=pl-v>Promise</span><span class=pl-kos>(</span><span class=pl-kos>(</span><span class=pl-s1>yea</span><span class=pl-kos>,</span> <span class=pl-s1>nah</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span> <span class=pl-en>setTimeout</span><span class=pl-kos>(</span><span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span> <span class=pl-s1>nah</span><span class=pl-kos>(</span><span class=pl-k>new</span> <span class=pl-v>Error</span><span class=pl-kos>(</span><span class=pl-s>&#39;Timeout expired&#39;</span><span class=pl-kos>)</span><span class=pl-kos>)</span><span class=pl-kos>,</span> <span class=pl-s1>msec</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L29" class="blob-num js-line-number" data-line-number="29"></td>\n        <td id="file-promised-timeout-js-LC29" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-v>Promise</span><span class=pl-kos>.</span><span class=pl-en>race</span><span class=pl-kos>(</span><span class=pl-kos>[</span><span class=pl-s1>promise</span><span class=pl-kos>,</span> <span class=pl-s1>timeout</span><span class=pl-kos>]</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L30" class="blob-num js-line-number" data-line-number="30"></td>\n        <td id="file-promised-timeout-js-LC30" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>}</span></td>\n      </tr>\n      <tr>\n        <td id="file-promised-timeout-js-L31" class="blob-num js-line-number" data-line-number="31"></td>\n        <td id="file-promised-timeout-js-LC31" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class="gist-meta">\n        <a href="https://gist.github.com/justsml/f93b2ef6457b3e52eb995831b67cab85/raw/ffae8631192e2d2efe5e1f117d05570e83df4205/promised-timeout.js" style="float:right">view raw</a>\n        <a href="https://gist.github.com/justsml/f93b2ef6457b3e52eb995831b67cab85#file-promised-timeout-js">promised-timeout.js</a>\n        hosted with &#10084; by <a href="https://github.com">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<p>And a more complex example, featuring a tracking flag <code class="language-text">__timeout</code> so you can <strong>intercept any costly work.</strong></p>\n<p><div id="gist93822434" class="gist">\n    <div class="gist-file">\n      <div class="gist-data">\n        <div class="js-gist-file-update-container js-task-list-container file-box">\n  <div id="file-promise-timeout-js" class="file my-2">\n    \n  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript  ">\n      \n<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip>\n      <tr>\n        <td id="file-promise-timeout-js-L1" class="blob-num js-line-number" data-line-number="1"></td>\n        <td id="file-promise-timeout-js-LC1" class="blob-code blob-code-inner js-file-line"><span class=pl-k>function</span> <span class=pl-en>promiseTimeout</span><span class=pl-kos>(</span><span class=pl-s1>msec</span><span class=pl-kos>)</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-promise-timeout-js-L2" class="blob-num js-line-number" data-line-number="2"></td>\n        <td id="file-promise-timeout-js-LC2" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>return</span> <span class=pl-kos>(</span><span class=pl-s1>promise</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-promise-timeout-js-L3" class="blob-num js-line-number" data-line-number="3"></td>\n        <td id="file-promise-timeout-js-LC3" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>isDone</span> <span class=pl-c1>=</span> <span class=pl-c1>false</span></td>\n      </tr>\n      <tr>\n        <td id="file-promise-timeout-js-L4" class="blob-num js-line-number" data-line-number="4"></td>\n        <td id="file-promise-timeout-js-LC4" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>promise</span><span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span> <span class=pl-s1>isDone</span> <span class=pl-c1>=</span> <span class=pl-c1>true</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-promise-timeout-js-L5" class="blob-num js-line-number" data-line-number="5"></td>\n        <td id="file-promise-timeout-js-LC5" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>const</span> <span class=pl-s1>timeout</span> <span class=pl-c1>=</span> <span class=pl-k>new</span> <span class=pl-v>Promise</span><span class=pl-kos>(</span><span class=pl-kos>(</span><span class=pl-s1>yea</span><span class=pl-kos>,</span> <span class=pl-s1>nah</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span> <span class=pl-en>setTimeout</span><span class=pl-kos>(</span><span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-promise-timeout-js-L6" class="blob-num js-line-number" data-line-number="6"></td>\n        <td id="file-promise-timeout-js-LC6" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-c1>!</span><span class=pl-s1>isDone</span><span class=pl-kos>)</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-promise-timeout-js-L7" class="blob-num js-line-number" data-line-number="7"></td>\n        <td id="file-promise-timeout-js-LC7" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>promise</span><span class=pl-kos>.</span><span class=pl-c1>__timeout</span> <span class=pl-c1>=</span> <span class=pl-c1>true</span></td>\n      </tr>\n      <tr>\n        <td id="file-promise-timeout-js-L8" class="blob-num js-line-number" data-line-number="8"></td>\n        <td id="file-promise-timeout-js-LC8" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>nah</span><span class=pl-kos>(</span><span class=pl-k>new</span> <span class=pl-v>Error</span><span class=pl-kos>(</span><span class=pl-s>&#39;Timeout expired&#39;</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-promise-timeout-js-L9" class="blob-num js-line-number" data-line-number="9"></td>\n        <td id="file-promise-timeout-js-LC9" class="blob-code blob-code-inner js-file-line">      <span class=pl-kos>}</span></td>\n      </tr>\n      <tr>\n        <td id="file-promise-timeout-js-L10" class="blob-num js-line-number" data-line-number="10"></td>\n        <td id="file-promise-timeout-js-LC10" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>,</span> <span class=pl-s1>msec</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-promise-timeout-js-L11" class="blob-num js-line-number" data-line-number="11"></td>\n        <td id="file-promise-timeout-js-LC11" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-v>Promise</span><span class=pl-kos>.</span><span class=pl-en>race</span><span class=pl-kos>(</span><span class=pl-kos>[</span><span class=pl-s1>promise</span><span class=pl-kos>,</span> <span class=pl-s1>timeout</span><span class=pl-kos>]</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-promise-timeout-js-L12" class="blob-num js-line-number" data-line-number="12"></td>\n        <td id="file-promise-timeout-js-LC12" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>}</span></td>\n      </tr>\n      <tr>\n        <td id="file-promise-timeout-js-L13" class="blob-num js-line-number" data-line-number="13"></td>\n        <td id="file-promise-timeout-js-LC13" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span></td>\n      </tr>\n      <tr>\n        <td id="file-promise-timeout-js-L14" class="blob-num js-line-number" data-line-number="14"></td>\n        <td id="file-promise-timeout-js-LC14" class="blob-code blob-code-inner js-file-line">\n</td>\n      </tr>\n      <tr>\n        <td id="file-promise-timeout-js-L15" class="blob-num js-line-number" data-line-number="15"></td>\n        <td id="file-promise-timeout-js-LC15" class="blob-code blob-code-inner js-file-line"><span class=pl-en>promiseTimeout</span><span class=pl-kos>(</span><span class=pl-c1>5000</span><span class=pl-kos>)</span><span class=pl-kos>(</span><span class=pl-en>fetch</span><span class=pl-kos>(</span><span class=pl-s>&#39;https://api.github.com/orgs/nodejs&#39;</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-promise-timeout-js-L16" class="blob-num js-line-number" data-line-number="16"></td>\n        <td id="file-promise-timeout-js-LC16" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>response</span> <span class=pl-c1>=&gt;</span> <span class=pl-s1>response</span><span class=pl-kos>.</span><span class=pl-en>json</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-promise-timeout-js-L17" class="blob-num js-line-number" data-line-number="17"></td>\n        <td id="file-promise-timeout-js-LC17" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>data</span> <span class=pl-c1>=&gt;</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-promise-timeout-js-L18" class="blob-num js-line-number" data-line-number="18"></td>\n        <td id="file-promise-timeout-js-LC18" class="blob-code blob-code-inner js-file-line">  <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>log</span><span class=pl-kos>(</span><span class=pl-s1>data</span><span class=pl-kos>)</span> <span class=pl-c>// Prints result from `response.json()` in getRequest</span></td>\n      </tr>\n      <tr>\n        <td id="file-promise-timeout-js-L19" class="blob-num js-line-number" data-line-number="19"></td>\n        <td id="file-promise-timeout-js-LC19" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-promise-timeout-js-L20" class="blob-num js-line-number" data-line-number="20"></td>\n        <td id="file-promise-timeout-js-LC20" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>.</span><span class=pl-en>catch</span><span class=pl-kos>(</span><span class=pl-s1>error</span> <span class=pl-c1>=&gt;</span> <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>error</span><span class=pl-kos>(</span><span class=pl-s1>error</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class="gist-meta">\n        <a href="https://gist.github.com/justsml/5e492db8997a4f7e22e61b7486cbf273/raw/6757f76ee1005fe9b079cd4295a999b346bfa43c/promise-timeout.js" style="float:right">view raw</a>\n        <a href="https://gist.github.com/justsml/5e492db8997a4f7e22e61b7486cbf273#file-promise-timeout-js">promise-timeout.js</a>\n        hosted with &#10084; by <a href="https://github.com">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<h3 id="download-progress-helper"><a href="#download-progress-helper" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Download Progress Helper</h3>\n<blockquote>\n<p>This is included for completeness. You may still want to use a 3rd party library here. Browser streaming interfaces may lack browser compatibility (as of late 2018).\nUpload Progress is currently a bit buggy outside of Chrome.</p>\n</blockquote>\n<p>The Progress Handler <a href="#source-progress-helper">technique shown below avoids wrapping</a> the <code class="language-text">fetch</code> call in a closure. üëç</p>\n<p><code class="language-text">progressHelper</code> has the following interface (source available below)</p>\n<p><div id="gist93135270" class="gist">\n    <div class="gist-file">\n      <div class="gist-data">\n        <div class="js-gist-file-update-container js-task-list-container file-box">\n  <div id="file-progresshelper-signature-js" class="file my-2">\n    \n  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript  ">\n      \n<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip>\n      <tr>\n        <td id="file-progresshelper-signature-js-L1" class="blob-num js-line-number" data-line-number="1"></td>\n        <td id="file-progresshelper-signature-js-LC1" class="blob-code blob-code-inner js-file-line"><span class=pl-k>const</span> <span class=pl-s1>progressHelper</span> <span class=pl-c1>=</span> <span class=pl-en>require</span><span class=pl-kos>(</span><span class=pl-s>&#39;./progressHelper.js&#39;</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-signature-js-L2" class="blob-num js-line-number" data-line-number="2"></td>\n        <td id="file-progresshelper-signature-js-LC2" class="blob-code blob-code-inner js-file-line">\n</td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-signature-js-L3" class="blob-num js-line-number" data-line-number="3"></td>\n        <td id="file-progresshelper-signature-js-LC3" class="blob-code blob-code-inner js-file-line"><span class=pl-k>const</span> <span class=pl-en>handler</span> <span class=pl-c1>=</span> <span class=pl-kos>(</span><span class=pl-kos>{</span>loaded<span class=pl-kos>,</span> total<span class=pl-kos>}</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-signature-js-L4" class="blob-num js-line-number" data-line-number="4"></td>\n        <td id="file-progresshelper-signature-js-LC4" class="blob-code blob-code-inner js-file-line">  <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>log</span><span class=pl-kos>(</span><span class=pl-s>`Downloaded <span class=pl-s1><span class=pl-kos>${</span><span class=pl-s1>loaded</span><span class=pl-kos>}</span></span> of <span class=pl-s1><span class=pl-kos>${</span><span class=pl-s1>total</span><span class=pl-kos>}</span></span>`</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-signature-js-L5" class="blob-num js-line-number" data-line-number="5"></td>\n        <td id="file-progresshelper-signature-js-LC5" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-signature-js-L6" class="blob-num js-line-number" data-line-number="6"></td>\n        <td id="file-progresshelper-signature-js-LC6" class="blob-code blob-code-inner js-file-line"><span class=pl-c>// handler args: ({ loaded = Kb, total = 0-100% })</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-signature-js-L7" class="blob-num js-line-number" data-line-number="7"></td>\n        <td id="file-progresshelper-signature-js-LC7" class="blob-code blob-code-inner js-file-line"><span class=pl-k>const</span> <span class=pl-s1>streamProcessor</span> <span class=pl-c1>=</span> <span class=pl-s1>progressHelper</span><span class=pl-kos>(</span><span class=pl-en>handler</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-signature-js-L8" class="blob-num js-line-number" data-line-number="8"></td>\n        <td id="file-progresshelper-signature-js-LC8" class="blob-code blob-code-inner js-file-line"><span class=pl-c>// =&gt; streamProcessor is a function for use with the response _stream_</span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class="gist-meta">\n        <a href="https://gist.github.com/justsml/db5ccc55ffb93c75e04e014d1f553cfb/raw/6c23959db2ab2fa475caac925d66451bfd8bd85f/progressHelper-signature.js" style="float:right">view raw</a>\n        <a href="https://gist.github.com/justsml/db5ccc55ffb93c75e04e014d1f553cfb#file-progresshelper-signature-js">progressHelper-signature.js</a>\n        hosted with &#10084; by <a href="https://github.com">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<p>Let‚Äôs look at a usage example:</p>\n<p><div id="gist93070424" class="gist">\n    <div class="gist-file">\n      <div class="gist-data">\n        <div class="js-gist-file-update-container js-task-list-container file-box">\n  <div id="file-progress-helper-usage-js" class="file my-2">\n    \n  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript  ">\n      \n<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip>\n      <tr>\n        <td id="file-progress-helper-usage-js-L1" class="blob-num js-line-number" data-line-number="1"></td>\n        <td id="file-progress-helper-usage-js-LC1" class="blob-code blob-code-inner js-file-line"><span class=pl-c>// The progressHelper could be inline w/ .then() below...</span></td>\n      </tr>\n      <tr>\n        <td id="file-progress-helper-usage-js-L2" class="blob-num js-line-number" data-line-number="2"></td>\n        <td id="file-progress-helper-usage-js-LC2" class="blob-code blob-code-inner js-file-line"><span class=pl-k>const</span> <span class=pl-s1>streamProcessor</span> <span class=pl-c1>=</span> <span class=pl-en>progressHelper</span><span class=pl-kos>(</span><span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-c1>log</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-progress-helper-usage-js-L3" class="blob-num js-line-number" data-line-number="3"></td>\n        <td id="file-progress-helper-usage-js-LC3" class="blob-code blob-code-inner js-file-line">\n</td>\n      </tr>\n      <tr>\n        <td id="file-progress-helper-usage-js-L4" class="blob-num js-line-number" data-line-number="4"></td>\n        <td id="file-progress-helper-usage-js-LC4" class="blob-code blob-code-inner js-file-line"><span class=pl-en>fetch</span><span class=pl-kos>(</span><span class=pl-s>&#39;https://fetch-progress.anthum.com/20kbps/images/sunrise-progressive.jpg&#39;</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-progress-helper-usage-js-L5" class="blob-num js-line-number" data-line-number="5"></td>\n        <td id="file-progress-helper-usage-js-LC5" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>streamProcessor</span><span class=pl-kos>)</span> <span class=pl-c>// note: NO parentheses because `.then` needs to get a function</span></td>\n      </tr>\n      <tr>\n        <td id="file-progress-helper-usage-js-L6" class="blob-num js-line-number" data-line-number="6"></td>\n        <td id="file-progress-helper-usage-js-LC6" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>response</span> <span class=pl-c1>=&gt;</span> <span class=pl-s1>response</span><span class=pl-kos>.</span><span class=pl-en>blob</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-progress-helper-usage-js-L7" class="blob-num js-line-number" data-line-number="7"></td>\n        <td id="file-progress-helper-usage-js-LC7" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>blobData</span> <span class=pl-c1>=&gt;</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-progress-helper-usage-js-L8" class="blob-num js-line-number" data-line-number="8"></td>\n        <td id="file-progress-helper-usage-js-LC8" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// ... set as base64 on an &lt;img src=&quot;base64...&quot;&gt;</span></td>\n      </tr>\n      <tr>\n        <td id="file-progress-helper-usage-js-L9" class="blob-num js-line-number" data-line-number="9"></td>\n        <td id="file-progress-helper-usage-js-LC9" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>}</span><span class=pl-kos>)</span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class="gist-meta">\n        <a href="https://gist.github.com/justsml/9bec219590ff50688972c1caff67c14b/raw/c864ecab54f57da7b10d852f512bd4d80abf79c9/progress-helper-usage.js" style="float:right">view raw</a>\n        <a href="https://gist.github.com/justsml/9bec219590ff50688972c1caff67c14b#file-progress-helper-usage-js">progress-helper-usage.js</a>\n        hosted with &#10084; by <a href="https://github.com">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<p>A reusable image downloader might look like <code class="language-text">getBlob()</code>:</p>\n<p><div id="gist93135285" class="gist">\n    <div class="gist-file">\n      <div class="gist-data">\n        <div class="js-gist-file-update-container js-task-list-container file-box">\n  <div id="file-getblob-js" class="file my-2">\n    \n  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript  ">\n      \n<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip>\n      <tr>\n        <td id="file-getblob-js-L1" class="blob-num js-line-number" data-line-number="1"></td>\n        <td id="file-getblob-js-LC1" class="blob-code blob-code-inner js-file-line"><span class=pl-k>const</span> <span class=pl-en>getBlob</span> <span class=pl-c1>=</span> <span class=pl-s1>url</span> <span class=pl-c1>=&gt;</span> <span class=pl-en>fetch</span><span class=pl-kos>(</span><span class=pl-s1>url</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-getblob-js-L2" class="blob-num js-line-number" data-line-number="2"></td>\n        <td id="file-getblob-js-LC2" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-en>progressHelper</span><span class=pl-kos>(</span><span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-c1>log</span><span class=pl-kos>)</span><span class=pl-kos>)</span> <span class=pl-c>// progressHelper used inside the .then()</span></td>\n      </tr>\n      <tr>\n        <td id="file-getblob-js-L3" class="blob-num js-line-number" data-line-number="3"></td>\n        <td id="file-getblob-js-LC3" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>response</span> <span class=pl-c1>=&gt;</span> <span class=pl-s1>response</span><span class=pl-kos>.</span><span class=pl-en>blob</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class="gist-meta">\n        <a href="https://gist.github.com/justsml/bef2dd7e630eb7642beb3e2be29489b2/raw/d83780ba007df97b127559c99e6cb98501bc1af4/getBlob.js" style="float:right">view raw</a>\n        <a href="https://gist.github.com/justsml/bef2dd7e630eb7642beb3e2be29489b2#file-getblob-js">getBlob.js</a>\n        hosted with &#10084; by <a href="https://github.com">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<p>By the way, a <code class="language-text">Blob</code> is a Binary Large Object.</p>\n<p>It‚Äôs important to choose ONE of the 2 usage patterns below (they are functionally equivalent):</p>\n<p><div id="gist93135305" class="gist">\n    <div class="gist-file">\n      <div class="gist-data">\n        <div class="js-gist-file-update-container js-task-list-container file-box">\n  <div id="file-progresshelper-usage-js" class="file my-2">\n    \n  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript  ">\n      \n<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip>\n      <tr>\n        <td id="file-progresshelper-usage-js-L1" class="blob-num js-line-number" data-line-number="1"></td>\n        <td id="file-progresshelper-usage-js-LC1" class="blob-code blob-code-inner js-file-line"><span class=pl-c>// OPTION #1: no temp streamProcessor var</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-usage-js-L2" class="blob-num js-line-number" data-line-number="2"></td>\n        <td id="file-progresshelper-usage-js-LC2" class="blob-code blob-code-inner js-file-line"><span class=pl-c>// fetch(...)</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-usage-js-L3" class="blob-num js-line-number" data-line-number="3"></td>\n        <td id="file-progresshelper-usage-js-LC3" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-en>progressHelper</span><span class=pl-kos>(</span><span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-c1>log</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-usage-js-L4" class="blob-num js-line-number" data-line-number="4"></td>\n        <td id="file-progresshelper-usage-js-LC4" class="blob-code blob-code-inner js-file-line">\n</td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-usage-js-L5" class="blob-num js-line-number" data-line-number="5"></td>\n        <td id="file-progresshelper-usage-js-LC5" class="blob-code blob-code-inner js-file-line"><span class=pl-c>// ‚ö†Ô∏è ORÔ∏è Ô∏è‚ö†Ô∏è</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-usage-js-L6" class="blob-num js-line-number" data-line-number="6"></td>\n        <td id="file-progresshelper-usage-js-LC6" class="blob-code blob-code-inner js-file-line">\n</td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-usage-js-L7" class="blob-num js-line-number" data-line-number="7"></td>\n        <td id="file-progresshelper-usage-js-LC7" class="blob-code blob-code-inner js-file-line"><span class=pl-c>// OPTION #2: define a `streamProcessor` to hold our console logger</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-usage-js-L8" class="blob-num js-line-number" data-line-number="8"></td>\n        <td id="file-progresshelper-usage-js-LC8" class="blob-code blob-code-inner js-file-line"><span class=pl-k>const</span> <span class=pl-s1>streamProcessor</span> <span class=pl-c1>=</span> <span class=pl-en>progressHelper</span><span class=pl-kos>(</span><span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-c1>log</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-usage-js-L9" class="blob-num js-line-number" data-line-number="9"></td>\n        <td id="file-progresshelper-usage-js-LC9" class="blob-code blob-code-inner js-file-line"><span class=pl-c>// fetch(...)</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-usage-js-L10" class="blob-num js-line-number" data-line-number="10"></td>\n        <td id="file-progresshelper-usage-js-LC10" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>streamProcessor</span><span class=pl-kos>)</span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class="gist-meta">\n        <a href="https://gist.github.com/justsml/6ad9e37a96ad1f3a75ca509038510a5b/raw/d3d9948dc51175663e17a116ffcceed74ce681dc/progressHelper-usage.js" style="float:right">view raw</a>\n        <a href="https://gist.github.com/justsml/6ad9e37a96ad1f3a75ca509038510a5b#file-progresshelper-usage-js">progressHelper-usage.js</a>\n        hosted with &#10084; by <a href="https://github.com">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<p>My preference is <code class="language-text">Option #1</code>. However, your scope design may force you to use <code class="language-text">Option #2</code>.</p>\n<p>Finally, here‚Äôs the last part of this recipe, our <code class="language-text">progressHelper</code>:</p>\n<h4 id="source-progress-helper"><a href="#source-progress-helper" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Source: Progress Helper</h4>\n<p><div id="gist93048831" class="gist">\n    <div class="gist-file">\n      <div class="gist-data">\n        <div class="js-gist-file-update-container js-task-list-container file-box">\n  <div id="file-progresshelper-js" class="file my-2">\n    \n  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript  ">\n      \n<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip>\n      <tr>\n        <td id="file-progresshelper-js-L1" class="blob-num js-line-number" data-line-number="1"></td>\n        <td id="file-progresshelper-js-LC1" class="blob-code blob-code-inner js-file-line"><span class=pl-k>function</span> <span class=pl-en>progressHelper</span><span class=pl-kos>(</span><span class=pl-s1>onProgress</span><span class=pl-kos>)</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L2" class="blob-num js-line-number" data-line-number="2"></td>\n        <td id="file-progresshelper-js-LC2" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>return</span> <span class=pl-kos>(</span><span class=pl-s1>response</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L3" class="blob-num js-line-number" data-line-number="3"></td>\n        <td id="file-progresshelper-js-LC3" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-c1>!</span><span class=pl-s1>response</span><span class=pl-kos>.</span><span class=pl-c1>body</span><span class=pl-kos>)</span> <span class=pl-k>return</span> <span class=pl-s1>response</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L4" class="blob-num js-line-number" data-line-number="4"></td>\n        <td id="file-progresshelper-js-LC4" class="blob-code blob-code-inner js-file-line">\n</td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L5" class="blob-num js-line-number" data-line-number="5"></td>\n        <td id="file-progresshelper-js-LC5" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>loaded</span> <span class=pl-c1>=</span> <span class=pl-c1>0</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L6" class="blob-num js-line-number" data-line-number="6"></td>\n        <td id="file-progresshelper-js-LC6" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>const</span> <span class=pl-s1>contentLength</span> <span class=pl-c1>=</span> <span class=pl-s1>response</span><span class=pl-kos>.</span><span class=pl-c1>headers</span><span class=pl-kos>.</span><span class=pl-en>get</span><span class=pl-kos>(</span><span class=pl-s>&#39;content-length&#39;</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L7" class="blob-num js-line-number" data-line-number="7"></td>\n        <td id="file-progresshelper-js-LC7" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>const</span> <span class=pl-s1>total</span> <span class=pl-c1>=</span> <span class=pl-c1>!</span><span class=pl-s1>contentLength</span> ? <span class=pl-c1>-</span><span class=pl-c1>1</span> : <span class=pl-en>parseInt</span><span class=pl-kos>(</span><span class=pl-s1>contentLength</span><span class=pl-kos>,</span> <span class=pl-c1>10</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L8" class="blob-num js-line-number" data-line-number="8"></td>\n        <td id="file-progresshelper-js-LC8" class="blob-code blob-code-inner js-file-line">\n</td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L9" class="blob-num js-line-number" data-line-number="9"></td>\n        <td id="file-progresshelper-js-LC9" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-k>new</span> <span class=pl-v>Response</span><span class=pl-kos>(</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L10" class="blob-num js-line-number" data-line-number="10"></td>\n        <td id="file-progresshelper-js-LC10" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>new</span> <span class=pl-v>ReadableStream</span><span class=pl-kos>(</span><span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L11" class="blob-num js-line-number" data-line-number="11"></td>\n        <td id="file-progresshelper-js-LC11" class="blob-code blob-code-inner js-file-line">        <span class=pl-en>start</span><span class=pl-kos>(</span><span class=pl-s1>controller</span><span class=pl-kos>)</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L12" class="blob-num js-line-number" data-line-number="12"></td>\n        <td id="file-progresshelper-js-LC12" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>const</span> <span class=pl-s1>reader</span> <span class=pl-c1>=</span> <span class=pl-s1>response</span><span class=pl-kos>.</span><span class=pl-c1>body</span><span class=pl-kos>.</span><span class=pl-en>getReader</span><span class=pl-kos>(</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L13" class="blob-num js-line-number" data-line-number="13"></td>\n        <td id="file-progresshelper-js-LC13" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>return</span> <span class=pl-en>read</span><span class=pl-kos>(</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L14" class="blob-num js-line-number" data-line-number="14"></td>\n        <td id="file-progresshelper-js-LC14" class="blob-code blob-code-inner js-file-line">\n</td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L15" class="blob-num js-line-number" data-line-number="15"></td>\n        <td id="file-progresshelper-js-LC15" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>function</span> <span class=pl-en>read</span><span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L16" class="blob-num js-line-number" data-line-number="16"></td>\n        <td id="file-progresshelper-js-LC16" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>return</span> <span class=pl-s1>reader</span><span class=pl-kos>.</span><span class=pl-en>read</span><span class=pl-kos>(</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L17" class="blob-num js-line-number" data-line-number="17"></td>\n        <td id="file-progresshelper-js-LC17" class="blob-code blob-code-inner js-file-line">              <span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-kos>(</span><span class=pl-kos>{</span> done<span class=pl-kos>,</span> value <span class=pl-kos>}</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L18" class="blob-num js-line-number" data-line-number="18"></td>\n        <td id="file-progresshelper-js-LC18" class="blob-code blob-code-inner js-file-line">                <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-s1>done</span><span class=pl-kos>)</span> <span class=pl-k>return</span> <span class=pl-k>void</span> <span class=pl-s1>controller</span><span class=pl-kos>.</span><span class=pl-en>close</span><span class=pl-kos>(</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L19" class="blob-num js-line-number" data-line-number="19"></td>\n        <td id="file-progresshelper-js-LC19" class="blob-code blob-code-inner js-file-line">                <span class=pl-s1>loaded</span> <span class=pl-c1>+=</span> <span class=pl-s1>value</span><span class=pl-kos>.</span><span class=pl-c1>byteLength</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L20" class="blob-num js-line-number" data-line-number="20"></td>\n        <td id="file-progresshelper-js-LC20" class="blob-code blob-code-inner js-file-line">                <span class=pl-s1>onProgress</span><span class=pl-kos>(</span><span class=pl-kos>{</span> loaded<span class=pl-kos>,</span> total <span class=pl-kos>}</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L21" class="blob-num js-line-number" data-line-number="21"></td>\n        <td id="file-progresshelper-js-LC21" class="blob-code blob-code-inner js-file-line">                <span class=pl-s1>controller</span><span class=pl-kos>.</span><span class=pl-en>enqueue</span><span class=pl-kos>(</span><span class=pl-s1>value</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L22" class="blob-num js-line-number" data-line-number="22"></td>\n        <td id="file-progresshelper-js-LC22" class="blob-code blob-code-inner js-file-line">                <span class=pl-k>return</span> <span class=pl-en>read</span><span class=pl-kos>(</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L23" class="blob-num js-line-number" data-line-number="23"></td>\n        <td id="file-progresshelper-js-LC23" class="blob-code blob-code-inner js-file-line">              <span class=pl-kos>}</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L24" class="blob-num js-line-number" data-line-number="24"></td>\n        <td id="file-progresshelper-js-LC24" class="blob-code blob-code-inner js-file-line">              <span class=pl-kos>.</span><span class=pl-en>catch</span><span class=pl-kos>(</span><span class=pl-s1>error</span> <span class=pl-c1>=&gt;</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L25" class="blob-num js-line-number" data-line-number="25"></td>\n        <td id="file-progresshelper-js-LC25" class="blob-code blob-code-inner js-file-line">                <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>error</span><span class=pl-kos>(</span><span class=pl-s1>error</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L26" class="blob-num js-line-number" data-line-number="26"></td>\n        <td id="file-progresshelper-js-LC26" class="blob-code blob-code-inner js-file-line">                <span class=pl-s1>controller</span><span class=pl-kos>.</span><span class=pl-en>error</span><span class=pl-kos>(</span><span class=pl-s1>error</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L27" class="blob-num js-line-number" data-line-number="27"></td>\n        <td id="file-progresshelper-js-LC27" class="blob-code blob-code-inner js-file-line">              <span class=pl-kos>}</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L28" class="blob-num js-line-number" data-line-number="28"></td>\n        <td id="file-progresshelper-js-LC28" class="blob-code blob-code-inner js-file-line">          <span class=pl-kos>}</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L29" class="blob-num js-line-number" data-line-number="29"></td>\n        <td id="file-progresshelper-js-LC29" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L30" class="blob-num js-line-number" data-line-number="30"></td>\n        <td id="file-progresshelper-js-LC30" class="blob-code blob-code-inner js-file-line">      <span class=pl-kos>}</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L31" class="blob-num js-line-number" data-line-number="31"></td>\n        <td id="file-progresshelper-js-LC31" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L32" class="blob-num js-line-number" data-line-number="32"></td>\n        <td id="file-progresshelper-js-LC32" class="blob-code blob-code-inner js-file-line">  <span class=pl-kos>}</span></td>\n      </tr>\n      <tr>\n        <td id="file-progresshelper-js-L33" class="blob-num js-line-number" data-line-number="33"></td>\n        <td id="file-progresshelper-js-LC33" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class="gist-meta">\n        <a href="https://gist.github.com/justsml/a8ffd810fc7e5a5295dfc898302ddbfc/raw/d4e3989b3a5573ee39a30c929dce7652af221a7c/progressHelper.js" style="float:right">view raw</a>\n        <a href="https://gist.github.com/justsml/a8ffd810fc7e5a5295dfc898302ddbfc#file-progresshelper-js">progressHelper.js</a>\n        hosted with &#10084; by <a href="https://github.com">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<p><em>credit:</em> Special thanks to Anthum Chris and his <a href="https://github.com/AnthumChris/fetch-progress-indicators">fantastic Progress+Fetch PoC shown here</a></p>\n<h2 id="compatibility"><a href="#compatibility" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Compatibility</h2>\n<p>‚ÄúWhat about NodeJS and the poor IE people?!?‚Äù</p>\n<p>Fear not, the fractional % of IE9-10 users <a href="https://github.com/github/fetch#browser-support">can be polyfilled</a> with the <code class="language-text">github/fetch</code> package (maintained by some awesome team at GitHub). It‚Äôs possible to go as far back as <a href="https://github.com/camsong/fetch-ie8">IE8</a> - <em>Your mileage may vary</em>.</p>\n<p>NodeJS can take advantage of the the <code class="language-text">fetch</code> API with the <a href="https://www.npmjs.com/package/node-fetch"><code class="language-text">node-fetch</code></a> package:</p>\n<div class="gatsby-highlight" data-language="sh">\n      <pre class="language-sh"><code class="language-sh">npm install node-fetch</code></pre>\n      </div>\n<p><em>After polyfill+node-fetch: 99.99% compatible</em> ‚úÖ</p>\n<h2 id="more-coming-soon"><a href="#more-coming-soon" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>More coming soon.</h2>\n<blockquote>\n<p>Please <a href="https://twitter.com/justsml">Tweet at me</a> if you have other <em>Use Cases</em> you‚Äôd like to see. ‚ù§Ô∏è</p>\n</blockquote>\n<p>\n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 645px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 150.0586166471278%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAeABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMFAgT/xAAWAQEBAQAAAAAAAAAAAAAAAAACAQD/2gAMAwEAAhADEAAAAUV56S7JMKcY4hBxzl3/xAAdEAACAQQDAAAAAAAAAAAAAAAAAhEBAxITECEi/9oACAEBAAEFArHb7YMjd7o5uUxQqqmCkk8f/8QAFxEBAAMAAAAAAAAAAAAAAAAAEAERQf/aAAgBAwEBPwHC5P/EABYRAQEBAAAAAAAAAAAAAAAAABABEf/aAAgBAgEBPwGGH//EACEQAAECBAcAAAAAAAAAAAAAAAABEQIQIjESICEyQVGh/9oACAEBAAY/AqkeeiI8RcuLU3Q+JH5N/mT/xAAdEAACAwACAwAAAAAAAAAAAAABEQAxQRBhIXGB/9oACAEBAAE/IRQE8BgQivmRzspwFZGsoSL9QCCgkCgWhkPLOBeF9zq8pz//2gAMAwEAAgADAAAAEAPuTP/EABkRAQACAwAAAAAAAAAAAAAAAAEAEBEhQf/aAAgBAwEBPxBDTtmWf//EABcRAQEBAQAAAAAAAAAAAAAAABEBABD/2gAIAQIBAT8QVrw4m//EAB8QAQACAgICAwAAAAAAAAAAAAEAESFhMVFBcZGx0f/aAAgBAQABPxBkEb8AdymChhR9Oo5hhqDEAx0Fsvt4limSEK5b8w8qJpg8kRsNjObi8hSCpc+j3K2n5H7LVFMXP//Z\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image lazyload"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"\n        alt="End of Dan\'s fetch API Examples"\n        title="End of Dan\'s fetch API Examples"\n        data-src="/static/jonas-vincent-2717-unsplash-0fe6abfae42d0da57ddecf64155698da-ef7b7.jpg"\n        data-srcset="/static/jonas-vincent-2717-unsplash-0fe6abfae42d0da57ddecf64155698da-c3db7.jpg 161w,\n/static/jonas-vincent-2717-unsplash-0fe6abfae42d0da57ddecf64155698da-e67ed.jpg 323w,\n/static/jonas-vincent-2717-unsplash-0fe6abfae42d0da57ddecf64155698da-ef7b7.jpg 645w,\n/static/jonas-vincent-2717-unsplash-0fe6abfae42d0da57ddecf64155698da-07a29.jpg 853w"\n        sizes="(max-width: 645px) 100vw, 645px"\n      />\n    </span>\n  </span>\n  </p>',
wordCount:{paragraphs:86,sentences:101,words:644},fields:{slug:"/you-may-not-need-axios/",prefix:"2018-11-15"},frontmatter:{title:"You may not need Axios",subTitle:"Fetch API to the rescue!",category:"programming",relativePath:"/content/posts/2018-11-15--you-may-not-need-axios/index.md",tags:["programming","patterns","source code","nodejs","javascript","promises"],date:"2018-11-14T00:00:00.000Z",modified:"2019-01-07T00:00:00.000Z",cover:{childImageSharp:{resolutions:{width:220,height:220,src:"/static/william-bout-103533-unsplash-c03daa32b912a296304cf89aae1c938e-bc901.jpg",srcSet:"/static/william-bout-103533-unsplash-c03daa32b912a296304cf89aae1c938e-bc901.jpg 1x,\n/static/william-bout-103533-unsplash-c03daa32b912a296304cf89aae1c938e-39e82.jpg 1.5x,\n/static/william-bout-103533-unsplash-c03daa32b912a296304cf89aae1c938e-a8256.jpg 2x,\n/static/william-bout-103533-unsplash-c03daa32b912a296304cf89aae1c938e-ef5e1.jpg 3x",srcWebp:"/static/william-bout-103533-unsplash-c03daa32b912a296304cf89aae1c938e-ec1cf.webp",srcSetWebp:"/static/william-bout-103533-unsplash-c03daa32b912a296304cf89aae1c938e-ec1cf.webp 1x,\n/static/william-bout-103533-unsplash-c03daa32b912a296304cf89aae1c938e-c5012.webp 1.5x,\n/static/william-bout-103533-unsplash-c03daa32b912a296304cf89aae1c938e-6ab8f.webp 2x,\n/static/william-bout-103533-unsplash-c03daa32b912a296304cf89aae1c938e-f9a43.webp 3x"}}}}},author:{id:"/Users/danlevy/code/oss/dans-blog/content/parts/author.md absPath of file >>> MarkdownRemark",html:'<p>Dan Levy is an accomplished programmer, teacher, speaker, cat dad and writer.\n<br /><br /></p>\n<p>Dan‚Äôs Open Source documentation and related writing is relied on by countless developers who use the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch">Mozilla Developer Network</a> site daily.\n<br /><br /></p>\n<p>His contributions span dozens of well-known projects, including <a href="https://github.com/nodejs/nodejs.org">NodeJS</a>, <a href="https://github.com/moby/moby">Docker</a>, <a href="https://github.com/ReactTraining/react-router/">React Router</a>, <a href="https://github.com/gatsbyjs/gatsby">GatsbyJS</a>, <a href="https://github.com/Angular/Angular">Angular</a>, <a href="https://github.com/petkaantonov/bluebird">Bluebird</a>, <a href="https://github.com/lodash/lodash">Lodash</a>, <a href="https://github.com/rancher/rancher">Rancher</a>, <a href="https://github.com/minio/minio">Minio</a>, <a href="https://github.com/lord/slate">Slate</a>, <a href="https://github.com/ReactiveX/IxJS">IxJS</a>, and <a href="https://github.com/functional-promises/functional-promises">Functional Promises</a>.\n<br /><br /></p>\n<p>Feel free to <a href="https://calendly.com/danlevy/">grab a spot on Dan‚Äôs calendar</a>, or reach out via <a href="https://twitter.com/justsml/">Twitter DMs</a> or <a href="/contact/">the contact form</a>.</p>'},footnote:{id:"/Users/danlevy/code/oss/dans-blog/content/parts/footnote.md absPath of file >>> MarkdownRemark",html:'<p>Unless otherwise noted, copyright ¬©2014-2021 Dan Levy.</p>\n<ul>\n<li>Photos by <a href="https://unsplash.com">unsplash.com</a></li>\n</ul>'},site:{siteMetadata:{facebook:{appId:""}}},allTags:{group:[{fieldValue:"ai",totalCount:1},{fieldValue:"amazon-web-services",totalCount:1},{fieldValue:"angularjs",totalCount:2},{fieldValue:"api-keys",totalCount:2},{fieldValue:"architecture",totalCount:1},{fieldValue:"artificial intelligence",totalCount:1},{fieldValue:"async",totalCount:5},{fieldValue:"async-await",totalCount:1},{fieldValue:"await",totalCount:1},{fieldValue:"azure",totalCount:1},{fieldValue:"benchmarks",totalCount:1},{fieldValue:"boot2docker",totalCount:1},{fieldValue:"challenge",totalCount:1},{fieldValue:"cloud",totalCount:1},{fieldValue:"collaborative-culture",totalCount:1},{fieldValue:"composition",totalCount:4},{fieldValue:"culture",totalCount:1},{fieldValue:"date",totalCount:1},{fieldValue:"date class",totalCount:1},{fieldValue:"debugging",totalCount:1},{fieldValue:"design",totalCount:1},{fieldValue:"development",totalCount:2},{fieldValue:"devops",totalCount:5},{fieldValue:"digital-ocean",totalCount:1},{fieldValue:"docker",totalCount:4},{fieldValue:"dos",totalCount:1},{fieldValue:"dotenv",totalCount:1},{fieldValue:"elasticsearch",totalCount:1},{fieldValue:"errors",totalCount:2},{fieldValue:"fails",totalCount:1},{fieldValue:"functional river",totalCount:1},{fieldValue:"go",totalCount:1},{fieldValue:"google-cloud-engine",totalCount:1},{fieldValue:"gotchas",totalCount:1},{fieldValue:"growth",totalCount:1},{fieldValue:"guides",totalCount:1},{fieldValue:"haskell",totalCount:1},{fieldValue:"io",totalCount:1},{fieldValue:"javascript",totalCount:11},{fieldValue:"json-web-tokens",totalCount:1},{fieldValue:"languages",totalCount:1},{fieldValue:"lua",totalCount:1},{fieldValue:"models",totalCount:1},{fieldValue:"mongodb",totalCount:2},{fieldValue:"mysql",totalCount:1},{fieldValue:"naming",totalCount:1},{fieldValue:"nodejs",totalCount:3},{fieldValue:"opinion",totalCount:1},{fieldValue:"organization",totalCount:2},{fieldValue:"ovh.net",totalCount:1},{fieldValue:"packet.net",totalCount:1},{fieldValue:"patterns",totalCount:7},{fieldValue:"performance",totalCount:4},{fieldValue:"personal-development",totalCount:1},{fieldValue:"postgres",totalCount:1},{fieldValue:"programming",totalCount:10},{fieldValue:"promises",totalCount:8},{fieldValue:"python",totalCount:2},{fieldValue:"quiz",totalCount:2},{fieldValue:"regex",totalCount:1},{fieldValue:"remote-exploit",totalCount:1},{fieldValue:"resources",totalCount:1},{fieldValue:"rust",totalCount:1},{fieldValue:"scala",totalCount:1},{fieldValue:"scaling",totalCount:1},{fieldValue:"secrets",totalCount:2},{fieldValue:"security",totalCount:4},{fieldValue:"self-driving cars",totalCount:1},{fieldValue:"server",totalCount:1},{fieldValue:"servers",totalCount:2},{fieldValue:"setup",totalCount:1},{fieldValue:"shell script",totalCount:1},{fieldValue:"smalltalk",totalCount:1},{fieldValue:"source code",totalCount:3},{fieldValue:"ssd",totalCount:1},{fieldValue:"teams",totalCount:1},{fieldValue:"tokens",totalCount:2},{fieldValue:"tuning",totalCount:1},{fieldValue:"visualizing",totalCount:1}]}},pathContext:{slug:"/you-may-not-need-axios/"}}}});
//# sourceMappingURL=path---you-may-not-need-axios-601755d268c2622a70e7.js.map